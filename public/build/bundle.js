var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function i(t){return"function"==typeof t}function o(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(n,e,r){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}(e,r))}function u(t,n,e,r){if(t){const i=l(t,n,e,r);return t[0](i)}}function l(t,n,e,r){return t[1]&&r?function(t,n){for(const e in n)t[e]=n[e];return t}(e.ctx.slice(),t[1](r(n))):e.ctx}function s(t,n,e,r){if(t[2]&&r){const i=t[2](r(e));if(void 0===n.dirty)return i;if("object"==typeof i){const t=[],e=Math.max(n.dirty.length,i.length);for(let r=0;r<e;r+=1)t[r]=n.dirty[r]|i[r];return t}return n.dirty|i}return n.dirty}function c(t,n,e,r,i,o){if(i){const a=l(n,e,r,o);t.p(a,i)}}function f(t){if(t.ctx.length>32){const n=[],e=t.ctx.length/32;for(let t=0;t<e;t++)n[t]=-1;return n}return-1}const h="undefined"!=typeof window;let d=h?()=>window.performance.now():()=>Date.now(),p=h?t=>requestAnimationFrame(t):t;const g=new Set;function m(t){g.forEach((n=>{n.c(t)||(g.delete(n),n.f())})),0!==g.size&&p(m)}function y(t,n){t.appendChild(n)}function v(t,n,e){t.insertBefore(n,e||null)}function w(t){t.parentNode.removeChild(t)}function _(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function b(t){return document.createElement(t)}function x(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function M(t){return document.createTextNode(t)}function $(){return M(" ")}function T(){return M("")}function D(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function C(t,n,e){n in t?t[n]="boolean"==typeof t[n]&&""===e||e:D(t,n,e)}function k(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}let S;function A(t){S=t}function N(){if(!S)throw new Error("Function called outside component initialization");return S}function E(t){N().$$.on_mount.push(t)}const U=[],L=[],q=[],F=[],R=Promise.resolve();let H=!1;function z(t){q.push(t)}function Y(t){F.push(t)}let O=!1;const j=new Set;function P(){if(!O){O=!0;do{for(let t=0;t<U.length;t+=1){const n=U[t];A(n),B(n.$$)}for(A(null),U.length=0;L.length;)L.pop()();for(let t=0;t<q.length;t+=1){const n=q[t];j.has(n)||(j.add(n),n())}q.length=0}while(U.length);for(;F.length;)F.pop()();H=!1,O=!1,j.clear()}}function B(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(z)}}const I=new Set;let W;function G(){W={r:0,c:[],p:W}}function X(){W.r||r(W.c),W=W.p}function V(t,n){t&&t.i&&(I.delete(t),t.i(n))}function Z(t,n,e,r){if(t&&t.o){if(I.has(t))return;I.add(t),W.c.push((()=>{I.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}const J="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Q(t,n,e){const r=t.$$.props[n];void 0!==r&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function K(t){t&&t.c()}function tt(t,e,o,a){const{fragment:u,on_mount:l,on_destroy:s,after_update:c}=t.$$;u&&u.m(e,o),a||z((()=>{const e=l.map(n).filter(i);s?s.push(...e):r(e),t.$$.on_mount=[]})),c.forEach(z)}function nt(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function et(t,n){-1===t.$$.dirty[0]&&(U.push(t),H||(H=!0,R.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function rt(n,i,o,a,u,l,s,c=[-1]){const f=S;A(n);const h=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:u,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(f?f.$$.context:[])),callbacks:e(),dirty:c,skip_bound:!1,root:i.target||f.$$.root};s&&s(h.root);let d=!1;if(h.ctx=o?o(n,i.props||{},((t,e,...r)=>{const i=r.length?r[0]:e;return h.ctx&&u(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),d&&et(n,t)),e})):[],h.update(),d=!0,r(h.before_update),h.fragment=!!a&&a(h.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);h.fragment&&h.fragment.l(t),t.forEach(w)}else h.fragment&&h.fragment.c();i.intro&&V(n.$$.fragment),tt(n,i.target,i.anchor,i.customElement),P()}A(f)}class it{$destroy(){nt(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ot(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function at(t){let n=t,e=t,r=t;function i(t,n,i=0,o=t.length){if(i<o){if(0!==e(n,n))return o;do{const e=i+o>>>1;r(t[e],n)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length&&(n=(n,e)=>t(n)-e,e=ot,r=(n,e)=>ot(t(n),e)),{left:i,center:function(t,e,r=0,o=t.length){const a=i(t,e,r,o-1);return a>r&&n(t[a-1],e)>-n(t[a],e)?a-1:a},right:function(t,n,i=0,o=t.length){if(i<o){if(0!==e(n,n))return o;do{const e=i+o>>>1;r(t[e],n)<=0?i=e+1:o=e}while(i<o)}return i}}}const ut=at(ot).right;at((function(t){return null===t?NaN:+t})).center;var lt=ut;function st(t,n){let e,r;if(void 0===n)for(const n of t)null!=n&&(void 0===e?n>=n&&(e=r=n):(e>n&&(e=n),r<n&&(r=n)));else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(void 0===e?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}var ct=Math.sqrt(50),ft=Math.sqrt(10),ht=Math.sqrt(2);function dt(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=ct?10:o>=ft?5:o>=ht?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=ct?10:o>=ft?5:o>=ht?2:1)}function pt(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=ct?i*=10:o>=ft?i*=5:o>=ht&&(i*=2),n<t?-i:i}function gt(t,n){let e=0,r=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(++e,r+=n);else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}var mt={value:()=>{}};function yt(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new vt(r)}function vt(t){this._=t}function wt(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function _t(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function bt(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=mt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}vt.prototype=yt.prototype={constructor:vt,on:function(t,n){var e,r=this._,i=wt(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=bt(r[e],t.name,n);else if(null==n)for(e in r)r[e]=bt(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=_t(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new vt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var xt="http://www.w3.org/1999/xhtml",Mt={svg:"http://www.w3.org/2000/svg",xhtml:xt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $t(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Mt.hasOwnProperty(n)?{space:Mt[n],local:t}:t}function Tt(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===xt&&n.documentElement.namespaceURI===xt?n.createElement(t):n.createElementNS(e,t)}}function Dt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ct(t){var n=$t(t);return(n.local?Dt:Tt)(n)}function kt(){}function St(t){return null==t?kt:function(){return this.querySelector(t)}}function At(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Nt(){return[]}function Et(t){return null==t?Nt:function(){return this.querySelectorAll(t)}}function Ut(t){return function(){return this.matches(t)}}function Lt(t){return function(n){return n.matches(t)}}var qt=Array.prototype.find;function Ft(){return this.firstElementChild}var Rt=Array.prototype.filter;function Ht(){return Array.from(this.children)}function zt(t){return new Array(t.length)}function Yt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Ot(t){return function(){return t}}function jt(t,n,e,r,i,o){for(var a,u=0,l=n.length,s=o.length;u<s;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new Yt(t,o[u]);for(;u<l;++u)(a=n[u])&&(i[u]=a)}function Pt(t,n,e,r,i,o,a){var u,l,s,c=new Map,f=n.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(l=n[u])&&(d[u]=s=a.call(l,l.__data__,u,n)+"",c.has(s)?i[u]=l:c.set(s,l));for(u=0;u<h;++u)s=a.call(t,o[u],u,o)+"",(l=c.get(s))?(r[u]=l,l.__data__=o[u],c.delete(s)):e[u]=new Yt(t,o[u]);for(u=0;u<f;++u)(l=n[u])&&c.get(d[u])===l&&(i[u]=l)}function Bt(t){return t.__data__}function It(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Wt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Gt(t){return function(){this.removeAttribute(t)}}function Xt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vt(t,n){return function(){this.setAttribute(t,n)}}function Zt(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Jt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Qt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Kt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function tn(t){return function(){this.style.removeProperty(t)}}function nn(t,n,e){return function(){this.style.setProperty(t,n,e)}}function en(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function rn(t,n){return t.style.getPropertyValue(n)||Kt(t).getComputedStyle(t,null).getPropertyValue(n)}function on(t){return function(){delete this[t]}}function an(t,n){return function(){this[t]=n}}function un(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function ln(t){return t.trim().split(/^|\s+/)}function sn(t){return t.classList||new cn(t)}function cn(t){this._node=t,this._names=ln(t.getAttribute("class")||"")}function fn(t,n){for(var e=sn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function hn(t,n){for(var e=sn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function dn(t){return function(){fn(this,t)}}function pn(t){return function(){hn(this,t)}}function gn(t,n){return function(){(n.apply(this,arguments)?fn:hn)(this,t)}}function mn(){this.textContent=""}function yn(t){return function(){this.textContent=t}}function vn(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function wn(){this.innerHTML=""}function _n(t){return function(){this.innerHTML=t}}function bn(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function xn(){this.nextSibling&&this.parentNode.appendChild(this)}function Mn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $n(){return null}function Tn(){var t=this.parentNode;t&&t.removeChild(this)}function Dn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Cn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function kn(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Sn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function An(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function Nn(t,n,e){var r=Kt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function En(t,n){return function(){return Nn(this,t,n)}}function Un(t,n){return function(){return Nn(this,t,n.apply(this,arguments))}}Yt.prototype={constructor:Yt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},cn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ln=[null];function qn(t,n){this._groups=t,this._parents=n}function Fn(){return new qn([[document.documentElement]],Ln)}function Rn(t){return"string"==typeof t?new qn([[document.querySelector(t)]],[document.documentElement]):new qn([[t]],Ln)}function Hn(t){return"string"==typeof t?new qn([document.querySelectorAll(t)],[document.documentElement]):new qn([At(t)],Ln)}function zn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Yn(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function On(){}qn.prototype=Fn.prototype={constructor:qn,select:function(t){"function"!=typeof t&&(t=St(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],l=u.length,s=r[i]=new Array(l),c=0;c<l;++c)(o=u[c])&&(a=t.call(o,o.__data__,c,u))&&("__data__"in o&&(a.__data__=o.__data__),s[c]=a);return new qn(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return At(t.apply(this,arguments))}}(t):Et(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],l=u.length,s=0;s<l;++s)(a=u[s])&&(r.push(t.call(a,a.__data__,s,u)),i.push(a));return new qn(r,i)},selectChild:function(t){return this.select(null==t?Ft:function(t){return function(){return qt.call(this.children,t)}}("function"==typeof t?t:Lt(t)))},selectChildren:function(t){return this.selectAll(null==t?Ht:function(t){return function(){return Rt.call(this.children,t)}}("function"==typeof t?t:Lt(t)))},filter:function(t){"function"!=typeof t&&(t=Ut(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,l=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&l.push(o);return new qn(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,Bt);var e=n?Pt:jt,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Ot(t));for(var o=i.length,a=new Array(o),u=new Array(o),l=new Array(o),s=0;s<o;++s){var c=r[s],f=i[s],h=f.length,d=It(t.call(c,c&&c.__data__,s,r)),p=d.length,g=u[s]=new Array(p),m=a[s]=new Array(p),y=l[s]=new Array(h);e(c,f,g,m,y,d,n);for(var v,w,_=0,b=0;_<p;++_)if(v=g[_]){for(_>=b&&(b=_+1);!(w=m[b])&&++b<p;);v._next=w||null}}return(a=new qn(a,r))._enter=u,a._exit=l,a},enter:function(){return new qn(this._enter||this._groups.map(zt),this._parents)},exit:function(){return new qn(this._exit||this._groups.map(zt),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),u=new Array(i),l=0;l<a;++l)for(var s,c=e[l],f=r[l],h=c.length,d=u[l]=new Array(h),p=0;p<h;++p)(s=c[p]||f[p])&&(d[p]=s);for(;l<i;++l)u[l]=e[l];return new qn(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Wt);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],l=u.length,s=i[o]=new Array(l),c=0;c<l;++c)(a=u[c])&&(s[c]=a);s.sort(n)}return new qn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=$t(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Xt:Gt:"function"==typeof n?e.local?Qt:Jt:e.local?Zt:Vt)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?tn:"function"==typeof n?en:nn)(t,n,null==e?"":e)):rn(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?on:"function"==typeof n?un:an)(t,n)):this.node()[t]},classed:function(t,n){var e=ln(t+"");if(arguments.length<2){for(var r=sn(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?gn:n?dn:pn)(e,n))},text:function(t){return arguments.length?this.each(null==t?mn:("function"==typeof t?vn:yn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?wn:("function"==typeof t?bn:_n)(t)):this.node().innerHTML},raise:function(){return this.each(xn)},lower:function(){return this.each(Mn)},append:function(t){var n="function"==typeof t?t:Ct(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Ct(t),r=null==n?$n:"function"==typeof n?n:St(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Tn)},clone:function(t){return this.select(t?Cn:Dn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=kn(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?An:Sn,r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var l,s=0,c=u.length;s<c;++s)for(r=0,l=u[s];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,n){return this.each(("function"==typeof n?Un:En)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var jn=.7,Pn=1/jn,Bn="\\s*([+-]?\\d+)\\s*",In="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gn=/^#([0-9a-f]{3,8})$/,Xn=new RegExp("^rgb\\("+[Bn,Bn,Bn]+"\\)$"),Vn=new RegExp("^rgb\\("+[Wn,Wn,Wn]+"\\)$"),Zn=new RegExp("^rgba\\("+[Bn,Bn,Bn,In]+"\\)$"),Jn=new RegExp("^rgba\\("+[Wn,Wn,Wn,In]+"\\)$"),Qn=new RegExp("^hsl\\("+[In,Wn,Wn]+"\\)$"),Kn=new RegExp("^hsla\\("+[In,Wn,Wn,In]+"\\)$"),te={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ne(){return this.rgb().formatHex()}function ee(){return this.rgb().formatRgb()}function re(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Gn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?ie(n):3===e?new le(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?oe(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?oe(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Xn.exec(t))?new le(n[1],n[2],n[3],1):(n=Vn.exec(t))?new le(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Zn.exec(t))?oe(n[1],n[2],n[3],n[4]):(n=Jn.exec(t))?oe(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Qn.exec(t))?he(n[1],n[2]/100,n[3]/100,1):(n=Kn.exec(t))?he(n[1],n[2]/100,n[3]/100,n[4]):te.hasOwnProperty(t)?ie(te[t]):"transparent"===t?new le(NaN,NaN,NaN,0):null}function ie(t){return new le(t>>16&255,t>>8&255,255&t,1)}function oe(t,n,e,r){return r<=0&&(t=n=e=NaN),new le(t,n,e,r)}function ae(t){return t instanceof On||(t=re(t)),t?new le((t=t.rgb()).r,t.g,t.b,t.opacity):new le}function ue(t,n,e,r){return 1===arguments.length?ae(t):new le(t,n,e,null==r?1:r)}function le(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function se(){return"#"+fe(this.r)+fe(this.g)+fe(this.b)}function ce(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function fe(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function he(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new pe(t,n,e,r)}function de(t){if(t instanceof pe)return new pe(t.h,t.s,t.l,t.opacity);if(t instanceof On||(t=re(t)),!t)return new pe;if(t instanceof pe)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,l=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=l<.5?o+i:2-o-i,a*=60):u=l>0&&l<1?0:a,new pe(a,u,l,t.opacity)}function pe(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function ge(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}zn(On,re,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ne,formatHex:ne,formatHsl:function(){return de(this).formatHsl()},formatRgb:ee,toString:ee}),zn(le,ue,Yn(On,{brighter:function(t){return t=null==t?Pn:Math.pow(Pn,t),new le(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?jn:Math.pow(jn,t),new le(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:se,formatHex:se,formatRgb:ce,toString:ce})),zn(pe,(function(t,n,e,r){return 1===arguments.length?de(t):new pe(t,n,e,null==r?1:r)}),Yn(On,{brighter:function(t){return t=null==t?Pn:Math.pow(Pn,t),new pe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?jn:Math.pow(jn,t),new pe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new le(ge(t>=240?t-240:t+120,i,r),ge(t,i,r),ge(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var me=t=>()=>t;function ye(t){return 1==(t=+t)?ve:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):me(isNaN(n)?e:n)}}function ve(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):me(isNaN(t)?n:t)}var we=function t(n){var e=ye(n);function r(t,n){var r=e((t=ue(t)).r,(n=ue(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=ve(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function _e(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function be(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=ke(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function xe(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Me(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function $e(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=ke(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var Te=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,De=new RegExp(Te.source,"g");function Ce(t,n){var e,r,i,o=Te.lastIndex=De.lastIndex=0,a=-1,u=[],l=[];for(t+="",n+="";(e=Te.exec(t))&&(r=De.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,l.push({i:a,x:Me(e,r)})),o=De.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var e,r=0;r<n;++r)u[(e=l[r]).i]=e.x(t);return u.join("")})}function ke(t,n){var e,r=typeof n;return null==n||"boolean"===r?me(n):("number"===r?Me:"string"===r?(e=re(n))?(n=e,we):Ce:n instanceof re?we:n instanceof Date?xe:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?_e:Array.isArray(n)?be:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?$e:Me)(t,n)}function Se(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Ae,Ne=180/Math.PI,Ee={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ue(t,n,e,r,i,o){var a,u,l;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(l=t*e+n*r)&&(e-=t*l,r-=n*l),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,l/=u),t*r<n*e&&(t=-t,n=-n,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Ne,skewX:Math.atan(l)*Ne,scaleX:a,scaleY:u}}function Le(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var l=a.push("translate(",null,n,null,e);u.push({i:l-4,x:Me(t,i)},{i:l-2,x:Me(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,l),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Me(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,l),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Me(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,l),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:Me(t,e)},{i:u-2,x:Me(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,l),o=a=null,function(t){for(var n,e=-1,r=l.length;++e<r;)u[(n=l[e]).i]=n.x(t);return u.join("")}}}var qe,Fe,Re=Le((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Ee:Ue(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),He=Le((function(t){return null==t?Ee:(Ae||(Ae=document.createElementNS("http://www.w3.org/2000/svg","g")),Ae.setAttribute("transform",t),(t=Ae.transform.baseVal.consolidate())?Ue((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ee)}),", ",")",")"),ze=0,Ye=0,Oe=0,je=0,Pe=0,Be=0,Ie="object"==typeof performance&&performance.now?performance:Date,We="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ge(){return Pe||(We(Xe),Pe=Ie.now()+Be)}function Xe(){Pe=0}function Ve(){this._call=this._time=this._next=null}function Ze(t,n,e){var r=new Ve;return r.restart(t,n,e),r}function Je(){Pe=(je=Ie.now())+Be,ze=Ye=0;try{!function(){Ge(),++ze;for(var t,n=qe;n;)(t=Pe-n._time)>=0&&n._call.call(void 0,t),n=n._next;--ze}()}finally{ze=0,function(){var t,n,e=qe,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:qe=n);Fe=t,Ke(r)}(),Pe=0}}function Qe(){var t=Ie.now(),n=t-je;n>1e3&&(Be-=n,je=t)}function Ke(t){ze||(Ye&&(Ye=clearTimeout(Ye)),t-Pe>24?(t<1/0&&(Ye=setTimeout(Je,t-Ie.now()-Be)),Oe&&(Oe=clearInterval(Oe))):(Oe||(je=Ie.now(),Oe=setInterval(Qe,1e3)),ze=1,We(Je)))}function tr(t,n,e){var r=new Ve;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}Ve.prototype=Ze.prototype={constructor:Ve,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Ge():+e)+(null==n?0:+n),this._next||Fe===this||(Fe?Fe._next=this:qe=this,Fe=this),this._call=t,this._time=e,Ke()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ke())}};var nr=yt("start","end","cancel","interrupt"),er=[];function rr(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var s,c,f,h;if(1!==e.state)return l();for(s in i)if((h=i[s]).name===e.name){if(3===h.state)return tr(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[s]):+s<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[s])}if(tr((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(o))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(f=e.tween.length),s=0,c=-1;s<f;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=h);r.length=c+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(l),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Ze(o,0,e.time)}(t,e,{name:n,index:r,group:i,on:nr,tween:er,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function ir(t,n){var e=ar(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function or(t,n){var e=ar(t,n);if(e.state>3)throw new Error("too late; already running");return e}function ar(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function ur(t,n){var e,r;return function(){var i=or(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function lr(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=or(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},l=0,s=i.length;l<s;++l)if(i[l].name===n){i[l]=u;break}l===s&&i.push(u)}o.tween=i}}function sr(t,n,e){var r=t._id;return t.each((function(){var t=or(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return ar(t,r).value[n]}}function cr(t,n){var e;return("number"==typeof n?Me:n instanceof re?we:(e=re(n))?(n=e,we):Ce)(t,n)}function fr(t){return function(){this.removeAttribute(t)}}function hr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function dr(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function pr(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function gr(t,n,e){var r,i,o;return function(){var a,u,l=e(this);if(null!=l)return(a=this.getAttribute(t))===(u=l+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,l));this.removeAttribute(t)}}function mr(t,n,e){var r,i,o;return function(){var a,u,l=e(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(u=l+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,l));this.removeAttributeNS(t.space,t.local)}}function yr(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function vr(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function wr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&vr(t,i)),e}return i._value=n,i}function _r(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&yr(t,i)),e}return i._value=n,i}function br(t,n){return function(){ir(this,t).delay=+n.apply(this,arguments)}}function xr(t,n){return n=+n,function(){ir(this,t).delay=n}}function Mr(t,n){return function(){or(this,t).duration=+n.apply(this,arguments)}}function $r(t,n){return n=+n,function(){or(this,t).duration=n}}function Tr(t,n){if("function"!=typeof n)throw new Error;return function(){or(this,t).ease=n}}function Dr(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?ir:or;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}var Cr=Fn.prototype.constructor;function kr(t){return function(){this.style.removeProperty(t)}}function Sr(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Ar(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&Sr(t,o,e)),r}return o._value=n,o}function Nr(t){return function(n){this.textContent=t.call(this,n)}}function Er(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Nr(r)),n}return r._value=t,r}var Ur=0;function Lr(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function qr(){return++Ur}var Fr=Fn.prototype;Lr.prototype={constructor:Lr,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=St(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,l,s=r[a],c=s.length,f=o[a]=new Array(c),h=0;h<c;++h)(u=s[h])&&(l=t.call(u,u.__data__,h,s))&&("__data__"in u&&(l.__data__=u.__data__),f[h]=l,rr(f[h],n,e,h,f,ar(u,e)));return new Lr(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Et(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var l,s=r[u],c=s.length,f=0;f<c;++f)if(l=s[f]){for(var h,d=t.call(l,l.__data__,f,s),p=ar(l,e),g=0,m=d.length;g<m;++g)(h=d[g])&&rr(h,n,e,g,d,p);o.push(d),a.push(l)}return new Lr(o,a,n,e)},selectChild:Fr.selectChild,selectChildren:Fr.selectChildren,filter:function(t){"function"!=typeof t&&(t=Ut(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,l=r[i]=[],s=0;s<u;++s)(o=a[s])&&t.call(o,o.__data__,s,a)&&l.push(o);return new Lr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var l,s=n[u],c=e[u],f=s.length,h=a[u]=new Array(f),d=0;d<f;++d)(l=s[d]||c[d])&&(h[d]=l);for(;u<r;++u)a[u]=n[u];return new Lr(a,this._parents,this._name,this._id)},selection:function(){return new Cr(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=qr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],l=u.length,s=0;s<l;++s)if(a=u[s]){var c=ar(a,n);rr(a,t,e,s,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Lr(r,this._parents,t,e)},call:Fr.call,nodes:Fr.nodes,node:Fr.node,size:Fr.size,empty:Fr.empty,each:Fr.each,on:function(t,n){var e=this._id;return arguments.length<2?ar(this.node(),e).on.on(t):this.each(Dr(e,t,n))},attr:function(t,n){var e=$t(t),r="transform"===e?He:cr;return this.attrTween(t,"function"==typeof n?(e.local?mr:gr)(e,r,sr(this,"attr."+t,n)):null==n?(e.local?hr:fr)(e):(e.local?pr:dr)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=$t(t);return this.tween(e,(r.local?wr:_r)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Re:cr;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=rn(this,t),a=(this.style.removeProperty(t),rn(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,kr(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=rn(this,t),u=e(this),l=u+"";return null==u&&(this.style.removeProperty(t),l=u=rn(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=n(r=a,u))}}(t,r,sr(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var l=or(this,t),s=l.on,c=null==l.value[a]?o||(o=kr(n)):void 0;s===e&&i===c||(r=(e=s).copy()).on(u,i=c),l.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=rn(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,Ar(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(sr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,Er(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=ar(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?ur:lr)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?br:xr)(n,t)):ar(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Mr:$r)(n,t)):ar(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Tr(n,t)):ar(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;or(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},l={value:function(){0==--i&&o()}};e.each((function(){var e=or(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(l)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:Fr[Symbol.iterator]};var Rr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Hr(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}Fn.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},Fn.prototype.transition=function(t){var n,e;t instanceof Lr?(n=t._id,t=t._name):(n=qr(),(e=Rr).time=Ge(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],l=u.length,s=0;s<l;++s)(a=u[s])&&rr(a,t,n,s,u,e||Hr(a,n));return new Lr(r,this._parents,t,n)};const zr=Math.PI,Yr=2*zr,Or=1e-6,jr=Yr-Or;function Pr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Br(){return new Pr}Pr.prototype=Br.prototype={constructor:Pr,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,l=r-n,s=o-t,c=a-n,f=s*s+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>Or)if(Math.abs(c*u-l*s)>Or&&i){var h=e-o,d=r-a,p=u*u+l*l,g=h*h+d*d,m=Math.sqrt(p),y=Math.sqrt(f),v=i*Math.tan((zr-Math.acos((p+f-g)/(2*m*y)))/2),w=v/y,_=v/m;Math.abs(w-1)>Or&&(this._+="L"+(t+w*s)+","+(n+w*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>s*d)+","+(this._x1=t+_*u)+","+(this._y1=n+_*l)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),l=t+a,s=n+u,c=1^o,f=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+l+","+s:(Math.abs(this._x1-l)>Or||Math.abs(this._y1-s)>Or)&&(this._+="L"+l+","+s),e&&(f<0&&(f=f%Yr+Yr),f>jr?this._+="A"+e+","+e+",0,1,"+c+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+c+","+(this._x1=l)+","+(this._y1=s):f>Or&&(this._+="A"+e+","+e+",0,"+ +(f>=zr)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var Ir={},Wr={};function Gr(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function Xr(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function Vr(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Zr(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+Vr(-t,6):t>9999?"+"+Vr(t,6):Vr(t,4)}(t.getUTCFullYear())+"-"+Vr(t.getUTCMonth()+1,2)+"-"+Vr(t.getUTCDate(),2)+(i?"T"+Vr(n,2)+":"+Vr(e,2)+":"+Vr(r,2)+"."+Vr(i,3)+"Z":r?"T"+Vr(n,2)+":"+Vr(e,2)+":"+Vr(r,2)+"Z":e||n?"T"+Vr(n,2)+":"+Vr(e,2)+"Z":"")}var Jr=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,l=o<=0,s=!1;function c(){if(l)return Wr;if(s)return s=!1,Ir;var n,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?l=!0:10===(r=t.charCodeAt(a++))?s=!0:13===r&&(s=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(n=a++)))s=!0;else if(13===r)s=!0,10===t.charCodeAt(a)&&++a;else if(r!==e)continue;return t.slice(i,n)}return l=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=c())!==Wr;){for(var f=[];r!==Ir&&r!==Wr;)f.push(r),r=c();n&&null==(f=n(f,u++))||i.push(f)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?Zr(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=Gr(t);return function(r,i){return n(e(r),i,t)}}(t,n):Gr(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=Xr(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=Xr(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),Qr=Jr.parse;function Kr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ti(t,n){return fetch(t,n).then(Kr)}var ni,ei=(ni=Qr,function(t,n,e){return 2===arguments.length&&"function"==typeof n&&(e=n,n=void 0),ti(t,n).then((function(t){return ni(t,e)}))});function ri(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function ii(t){return(t=ri(Math.abs(t)))?t[1]:NaN}var oi,ai=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ui(t){if(!(n=ai.exec(t)))throw new Error("invalid format: "+t);var n;return new li({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function li(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function si(t,n){var e=ri(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ui.prototype=li.prototype,li.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ci={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>si(100*t,n),r:si,s:function(t,n){var e=ri(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(oi=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ri(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fi(t){return t}var hi,di,pi,gi=Array.prototype.map,mi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function yi(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?fi:(n=gi.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],l=0;i>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),o.push(t.substring(i-=u,i+u)),!((l+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?fi:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(gi.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=ui(t)).fill,e=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):ci[v]||(void 0===m&&(m=12),y=!0,v="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var w="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===h?o:/[%p]/.test(v)?l:"",b=ci[v],x=/[defgprs%]/.test(v);function M(t){var i,o,l,h=w,M=_;if("c"===v)M=b(t)+M,t="";else{var $=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:b(Math.abs(t),m),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),$&&0==+t&&"+"!==f&&($=!1),h=($?"("===f?f:s:"-"===f||"("===f?"":f)+h,M=("s"===v?mi[8+oi/3]:"")+M+($&&"("===f?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){M=(46===l?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var T=h.length+t.length+M.length,D=T<p?new Array(p-T+1).join(n):"";switch(g&&d&&(t=r(D+t,D.length?p-M.length:1/0),D=""),e){case"<":t=h+t+M+D;break;case"=":t=h+D+t+M;break;case"^":t=D.slice(0,T=D.length>>1)+h+t+M+D.slice(T);break;default:t=D+h+t+M}return u(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,n){var e=f(((t=ui(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ii(n)/3))),i=Math.pow(10,-r),o=mi[8+r/3];return function(t){return e(i*t)+o}}}}function vi(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function wi(t){return+t}hi=yi({thousands:",",grouping:[3],currency:["$",""]}),di=hi.format,pi=hi.formatPrefix;var _i=[0,1];function bi(t){return t}function xi(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function Mi(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=xi(i,r),o=e(a,o)):(r=xi(r,i),o=e(o,a)),function(t){return o(r(t))}}function $i(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=xi(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=lt(t,n,1,r)-1;return o[e](i[e](n))}}function Ti(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Di(){var t,n,e,r,i,o,a=_i,u=_i,l=ke,s=bi;function c(){var t,n,e,l=Math.min(a.length,u.length);return s!==bi&&(t=a[0],n=a[l-1],t>n&&(e=t,t=n,n=e),s=function(e){return Math.max(t,Math.min(n,e))}),r=l>2?$i:Mi,i=o=null,f}function f(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),u,l)))(t(s(n)))}return f.invert=function(e){return s(n((o||(o=r(u,a.map(t),Me)))(e)))},f.domain=function(t){return arguments.length?(a=Array.from(t,wi),c()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),c()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),l=Se,c()},f.clamp=function(t){return arguments.length?(s=!!t||bi,c()):s!==bi},f.interpolate=function(t){return arguments.length?(l=t,c()):l},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,c()}}function Ci(){return Di()(bi,bi)}function ki(t,n,e,r){var i,o=pt(t,n,e);switch((r=ui(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ii(n)/3)))-ii(Math.abs(t)))}(o,a))||(r.precision=i),pi(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,ii(n)-ii(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-ii(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return di(r)}function Si(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=dt(t,n,e))||!isFinite(a))return[];if(a>0){let e=Math.round(t/a),r=Math.round(n/a);for(e*a<t&&++e,r*a>n&&--r,o=new Array(i=r-e+1);++u<i;)o[u]=(e+u)*a}else{a=-a;let e=Math.round(t*a),r=Math.round(n*a);for(e/a<t&&++e,r/a>n&&--r,o=new Array(i=r-e+1);++u<i;)o[u]=(e+u)/a}return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return ki(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,u=o.length-1,l=o[a],s=o[u],c=10;for(s<l&&(i=l,l=s,s=i,i=a,a=u,u=i);c-- >0;){if((i=dt(l,s,e))===r)return o[a]=l,o[u]=s,n(o);if(i>0)l=Math.floor(l/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,s=Math.floor(s*i)/i}r=i}return t},t}function Ai(){var t=Ci();return t.copy=function(){return Ti(t,Ai())},vi.apply(t,arguments),Si(t)}function Ni(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Ei(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ui(t){return t<0?-t*t:t*t}function Li(t){var n=t(bi,bi),e=1;function r(){return 1===e?t(bi,bi):.5===e?t(Ei,Ui):t(Ni(e),Ni(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},Si(n)}function qi(){var t=Li(Di());return t.copy=function(){return Ti(t,qi()).exponent(t.exponent())},vi.apply(t,arguments),t}var Fi=new Date,Ri=new Date;function Hi(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var a,u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do{u.push(a=new Date(+e)),n(e,o),t(e)}while(a<e&&e<r);return u},i.filter=function(e){return Hi((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}))},e&&(i.count=function(n,r){return Fi.setTime(+n),Ri.setTime(+r),t(Fi),t(Ri),Math.floor(e(Fi,Ri))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var zi=Hi((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));zi.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Hi((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):zi:null};var Yi=zi;const Oi=1e3,ji=6e4,Pi=36e5,Bi=864e5,Ii=6048e5,Wi=2592e6,Gi=31536e6;var Xi=Hi((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+n*Oi)}),(function(t,n){return(n-t)/Oi}),(function(t){return t.getUTCSeconds()})),Vi=Xi,Zi=Hi((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Oi)}),(function(t,n){t.setTime(+t+n*ji)}),(function(t,n){return(n-t)/ji}),(function(t){return t.getMinutes()})),Ji=Zi,Qi=Hi((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Oi-t.getMinutes()*ji)}),(function(t,n){t.setTime(+t+n*Pi)}),(function(t,n){return(n-t)/Pi}),(function(t){return t.getHours()})),Ki=Qi,to=Hi((t=>t.setHours(0,0,0,0)),((t,n)=>t.setDate(t.getDate()+n)),((t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ji)/Bi),(t=>t.getDate()-1)),no=to;function eo(t){return Hi((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ji)/Ii}))}var ro=eo(0),io=eo(1);eo(2),eo(3);var oo=eo(4);eo(5),eo(6);var ao=Hi((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),uo=ao,lo=Hi((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));lo.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Hi((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var so=lo,co=Hi((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+n*ji)}),(function(t,n){return(n-t)/ji}),(function(t){return t.getUTCMinutes()})),fo=co,ho=Hi((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+n*Pi)}),(function(t,n){return(n-t)/Pi}),(function(t){return t.getUTCHours()})),po=ho,go=Hi((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/Bi}),(function(t){return t.getUTCDate()-1})),mo=go;function yo(t){return Hi((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/Ii}))}var vo=yo(0),wo=yo(1);yo(2),yo(3);var _o=yo(4);yo(5),yo(6);var bo=Hi((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),xo=bo,Mo=Hi((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Mo.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Hi((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var $o=Mo;function To(t,n,e,r,i,o){const a=[[Vi,1,Oi],[Vi,5,5e3],[Vi,15,15e3],[Vi,30,3e4],[o,1,ji],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,Pi],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,Bi],[r,2,1728e5],[e,1,Ii],[n,1,Wi],[n,3,7776e6],[t,1,Gi]];function u(n,e,r){const i=Math.abs(e-n)/r,o=at((([,,t])=>t)).right(a,i);if(o===a.length)return t.every(pt(n/Gi,e/Gi,r));if(0===o)return Yi.every(Math.max(pt(n,e,r),1));const[u,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return u.every(l)}return[function(t,n,e){const r=n<t;r&&([t,n]=[n,t]);const i=e&&"function"==typeof e.range?e:u(t,n,e),o=i?i.range(t,+n+1):[];return r?o.reverse():o},u]}To($o,xo,vo,mo,po,fo);const[Do,Co]=To(so,uo,ro,no,Ki,Ji);function ko(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function So(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ao(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}var No,Eo,Uo,Lo={"-":"",_:" ",0:"0"},qo=/^\s*\d+/,Fo=/^%/,Ro=/[\\^$*+?|[\]().{}]/g;function Ho(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function zo(t){return t.replace(Ro,"\\$&")}function Yo(t){return new RegExp("^(?:"+t.map(zo).join("|")+")","i")}function Oo(t){return new Map(t.map(((t,n)=>[t.toLowerCase(),n])))}function jo(t,n,e){var r=qo.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Po(t,n,e){var r=qo.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Bo(t,n,e){var r=qo.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Io(t,n,e){var r=qo.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Wo(t,n,e){var r=qo.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Go(t,n,e){var r=qo.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Xo(t,n,e){var r=qo.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Vo(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Zo(t,n,e){var r=qo.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function Jo(t,n,e){var r=qo.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Qo(t,n,e){var r=qo.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Ko(t,n,e){var r=qo.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function ta(t,n,e){var r=qo.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function na(t,n,e){var r=qo.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function ea(t,n,e){var r=qo.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function ra(t,n,e){var r=qo.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function ia(t,n,e){var r=qo.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function oa(t,n,e){var r=Fo.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function aa(t,n,e){var r=qo.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function ua(t,n,e){var r=qo.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function la(t,n){return Ho(t.getDate(),n,2)}function sa(t,n){return Ho(t.getHours(),n,2)}function ca(t,n){return Ho(t.getHours()%12||12,n,2)}function fa(t,n){return Ho(1+no.count(so(t),t),n,3)}function ha(t,n){return Ho(t.getMilliseconds(),n,3)}function da(t,n){return ha(t,n)+"000"}function pa(t,n){return Ho(t.getMonth()+1,n,2)}function ga(t,n){return Ho(t.getMinutes(),n,2)}function ma(t,n){return Ho(t.getSeconds(),n,2)}function ya(t){var n=t.getDay();return 0===n?7:n}function va(t,n){return Ho(ro.count(so(t)-1,t),n,2)}function wa(t){var n=t.getDay();return n>=4||0===n?oo(t):oo.ceil(t)}function _a(t,n){return t=wa(t),Ho(oo.count(so(t),t)+(4===so(t).getDay()),n,2)}function ba(t){return t.getDay()}function xa(t,n){return Ho(io.count(so(t)-1,t),n,2)}function Ma(t,n){return Ho(t.getFullYear()%100,n,2)}function $a(t,n){return Ho((t=wa(t)).getFullYear()%100,n,2)}function Ta(t,n){return Ho(t.getFullYear()%1e4,n,4)}function Da(t,n){var e=t.getDay();return Ho((t=e>=4||0===e?oo(t):oo.ceil(t)).getFullYear()%1e4,n,4)}function Ca(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Ho(n/60|0,"0",2)+Ho(n%60,"0",2)}function ka(t,n){return Ho(t.getUTCDate(),n,2)}function Sa(t,n){return Ho(t.getUTCHours(),n,2)}function Aa(t,n){return Ho(t.getUTCHours()%12||12,n,2)}function Na(t,n){return Ho(1+mo.count($o(t),t),n,3)}function Ea(t,n){return Ho(t.getUTCMilliseconds(),n,3)}function Ua(t,n){return Ea(t,n)+"000"}function La(t,n){return Ho(t.getUTCMonth()+1,n,2)}function qa(t,n){return Ho(t.getUTCMinutes(),n,2)}function Fa(t,n){return Ho(t.getUTCSeconds(),n,2)}function Ra(t){var n=t.getUTCDay();return 0===n?7:n}function Ha(t,n){return Ho(vo.count($o(t)-1,t),n,2)}function za(t){var n=t.getUTCDay();return n>=4||0===n?_o(t):_o.ceil(t)}function Ya(t,n){return t=za(t),Ho(_o.count($o(t),t)+(4===$o(t).getUTCDay()),n,2)}function Oa(t){return t.getUTCDay()}function ja(t,n){return Ho(wo.count($o(t)-1,t),n,2)}function Pa(t,n){return Ho(t.getUTCFullYear()%100,n,2)}function Ba(t,n){return Ho((t=za(t)).getUTCFullYear()%100,n,2)}function Ia(t,n){return Ho(t.getUTCFullYear()%1e4,n,4)}function Wa(t,n){var e=t.getUTCDay();return Ho((t=e>=4||0===e?_o(t):_o.ceil(t)).getUTCFullYear()%1e4,n,4)}function Ga(){return"+0000"}function Xa(){return"%"}function Va(t){return+t}function Za(t){return Math.floor(+t/1e3)}function Ja(t){return new Date(t)}function Qa(t){return t instanceof Date?+t:+new Date(+t)}function Ka(t,n,e,r,i,o,a,u,l,s){var c=Ci(),f=c.invert,h=c.domain,d=s(".%L"),p=s(":%S"),g=s("%I:%M"),m=s("%I %p"),y=s("%a %d"),v=s("%b %d"),w=s("%B"),_=s("%Y");function b(t){return(l(t)<t?d:u(t)<t?p:a(t)<t?g:o(t)<t?m:r(t)<t?i(t)<t?y:v:e(t)<t?w:_)(t)}return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?h(Array.from(t,Qa)):h().map(Ja)},c.ticks=function(n){var e=h();return t(e[0],e[e.length-1],null==n?10:n)},c.tickFormat=function(t,n){return null==n?b:s(n)},c.nice=function(t){var e=h();return t&&"function"==typeof t.range||(t=n(e[0],e[e.length-1],null==t?10:t)),t?h(function(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}(e,t)):c},c.copy=function(){return Ti(c,Ka(t,n,e,r,i,o,a,u,l,s))},c}function tu(t){return function(){return t}}function nu(t){this._context=t}function eu(t){return new nu(t)}function ru(t){return t[0]}function iu(t){return t[1]}function ou(t,n){var e=tu(!0),r=null,i=eu,o=null;function a(a){var u,l,s,c=(a=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(a)).length,f=!1;for(null==r&&(o=i(s=Br())),u=0;u<=c;++u)!(u<c&&e(l=a[u],u,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(l,u,a),+n(l,u,a));if(s)return o=null,s+""||null}return t="function"==typeof t?t:void 0===t?ru:tu(t),n="function"==typeof n?n:void 0===n?iu:tu(n),a.x=function(n){return arguments.length?(t="function"==typeof n?n:tu(+n),a):t},a.y=function(t){return arguments.length?(n="function"==typeof t?t:tu(+t),a):n},a.defined=function(t){return arguments.length?(e="function"==typeof t?t:tu(!!t),a):e},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function au(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function uu(t){this._context=t}function lu(t){return new uu(t)}function su(n){let e;return{c(){e=b("div"),e.innerHTML="<h1>Do moon phases and mercury retrograde really affect our flights?</h1> \n  <p>By Danica Jefferies, Yuriko Schumacher, and Sofia Perez</p>",D(e,"class","svelte-jk50yr")},m(t,n){v(t,e,n)},p:t,i:t,o:t,d(t){t&&w(e)}}}!function(t){No=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,l=t.shortMonths,s=Yo(i),c=Oo(i),f=Yo(o),h=Oo(o),d=Yo(a),p=Oo(a),g=Yo(u),m=Oo(u),y=Yo(l),v=Oo(l),w={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:la,e:la,f:da,g:$a,G:Da,H:sa,I:ca,j:fa,L:ha,m:pa,M:ga,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Va,s:Za,S:ma,u:ya,U:va,V:_a,w:ba,W:xa,x:null,X:null,y:Ma,Y:Ta,Z:Ca,"%":Xa},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:ka,e:ka,f:Ua,g:Ba,G:Wa,H:Sa,I:Aa,j:Na,L:Ea,m:La,M:qa,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Va,s:Za,S:Fa,u:Ra,U:Ha,V:Ya,w:Oa,W:ja,x:null,X:null,y:Pa,Y:Ia,Z:Ga,"%":Xa},b={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=v.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=m.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,e,r){return $(t,n,e,r)},d:Qo,e:Qo,f:ia,g:Xo,G:Go,H:ta,I:ta,j:Ko,L:ra,m:Jo,M:na,p:function(t,n,e){var r=s.exec(n.slice(e));return r?(t.p=c.get(r[0].toLowerCase()),e+r[0].length):-1},q:Zo,Q:aa,s:ua,S:ea,u:Po,U:Bo,V:Io,w:jo,W:Wo,x:function(t,n,r){return $(t,e,n,r)},X:function(t,n,e){return $(t,r,n,e)},y:Xo,Y:Go,Z:Vo,"%":oa};function x(t,n){return function(e){var r,i,o,a=[],u=-1,l=0,s=t.length;for(e instanceof Date||(e=new Date(+e));++u<s;)37===t.charCodeAt(u)&&(a.push(t.slice(l,u)),null!=(i=Lo[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),l=u+1);return a.push(t.slice(l,u)),a.join("")}}function M(t,n){return function(e){var r,i,o=Ao(1900,void 0,1);if($(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=So(Ao(o.y,0,1))).getUTCDay(),r=i>4||0===i?wo.ceil(r):wo(r),r=mo.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=ko(Ao(o.y,0,1))).getDay(),r=i>4||0===i?io.ceil(r):io(r),r=no.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?So(Ao(o.y,0,1)).getUTCDay():ko(Ao(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,So(o)):ko(o)}}function $(t,n,e,r){for(var i,o,a=0,u=n.length,l=e.length;a<u;){if(r>=l)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=b[i in Lo?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return w.x=x(e,w),w.X=x(r,w),w.c=x(n,w),_.x=x(e,_),_.X=x(r,_),_.c=x(n,_),{format:function(t){var n=x(t+="",w);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=x(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}}}(t),Eo=No.format,Uo=No.parse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}},uu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:au(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:au(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};class cu extends it{constructor(t){super(),rt(this,t,null,su,o,{})}}function fu(n){let e;return{c(){e=b("article"),e.innerHTML="<h2>Introduction title goes here</h2> \n  <ul><li>Theories and spookiness on moon phases and mercury retrograde</li> \n    <li>Distinctive examples? use this for lede? It can be a hard-ish lede about the findings\n      <ul><li>19 out of 30 of the top accidents based on fatalities (more than half the table) occurred when the moon was in waxing crescent, close to the new moon</li> \n        <li>Finidings about mercury retrograde</li></ul></li></ul>"},m(t,n){v(t,e,n)},p:t,i:t,o:t,d(t){t&&w(e)}}}class hu extends it{constructor(t){super(),rt(this,t,null,fu,o,{})}}const{window:du}=J,pu=t=>({}),gu=t=>({}),mu=t=>({}),yu=t=>({});function vu(t){let n,e,r,i,o,a,l,h,d;z(t[21]);const p=t[20].background,g=u(p,t,t[19],yu),m=t[20].foreground,_=u(m,t,t[19],gu);return{c(){n=b("svelte-scroller-outer"),e=b("svelte-scroller-background-container"),r=b("svelte-scroller-background"),g&&g.c(),o=$(),a=b("svelte-scroller-foreground"),_&&_.c(),C(r,"class","svelte-xdbafy"),C(e,"class","background-container svelte-xdbafy"),C(e,"style",i=""+(t[5]+t[4])),C(a,"class","svelte-xdbafy"),C(n,"class","svelte-xdbafy")},m(i,u){var s,c,f,p;v(i,n,u),y(n,e),y(e,r),g&&g.m(r,null),t[22](r),y(n,o),y(n,a),_&&_.m(a,null),t[23](a),t[24](n),l=!0,h||(s=du,c="resize",f=t[21],s.addEventListener(c,f,p),d=()=>s.removeEventListener(c,f,p),h=!0)},p(t,n){g&&g.p&&(!l||524288&n[0])&&c(g,p,t,t[19],l?s(p,t[19],n,mu):f(t[19]),yu),(!l||48&n[0]&&i!==(i=""+(t[5]+t[4])))&&C(e,"style",i),_&&_.p&&(!l||524288&n[0])&&c(_,m,t,t[19],l?s(m,t[19],n,pu):f(t[19]),gu)},i(t){l||(V(g,t),V(_,t),l=!0)},o(t){Z(g,t),Z(_,t),l=!1},d(e){e&&w(n),g&&g.d(e),t[22](null),_&&_.d(e),t[23](null),t[24](null),h=!1,d()}}}const wu=[];let _u;if("undefined"!=typeof window){const t=()=>wu.forEach((t=>t()));window.addEventListener("scroll",t),window.addEventListener("resize",t)}if("undefined"!=typeof IntersectionObserver){const t=new Map,n=new IntersectionObserver(((n,e)=>{n.forEach((n=>{const e=t.get(n.target),r=wu.indexOf(e);n.isIntersecting?-1===r&&wu.push(e):(e(),-1!==r&&wu.splice(r,1))}))}),{rootMargin:"400px 0px"});_u={add:({outer:e,update:r})=>{const{top:i,bottom:o}=e.getBoundingClientRect();i<window.innerHeight&&o>0&&wu.push(r),t.set(e,r),n.observe(e)},remove:({outer:e,update:r})=>{const i=wu.indexOf(r);-1!==i&&wu.splice(i,1),t.delete(e),n.unobserve(e)}}}else _u={add:({update:t})=>{wu.push(t)},remove:({update:t})=>{const n=wu.indexOf(t);-1!==n&&wu.splice(n,1)}};function bu(t,n,e){let r,i,o,a,u,l,s,c,f,h,d,{$$slots:p={},$$scope:g}=n,{top:m=0}=n,{bottom:y=1}=n,{threshold:v=.5}=n,{query:w="section"}=n,{parallax:_=!1}=n,{index:b=0}=n,{count:x=0}=n,{offset:M=0}=n,{progress:$=0}=n,{visible:T=!1}=n,D=0,C=0,k=1;function S(){if(!s)return;const t=l.getBoundingClientRect();f=t.left,e(18,k=t.right-f);const n=s.getBoundingClientRect(),a=c.getBoundingClientRect();e(10,T=n.top<D&&n.bottom>0);const u=n.bottom-n.top,p=a.bottom-a.top,g=i-r;e(9,$=(r-n.top)/(u-g)),$<=0?(e(17,C=0),e(16,d=!1)):$>=1?(e(17,C=_?u-p:u-g),e(16,d=!1)):(e(17,C=_?Math.round(r-$*(p-g)):r),e(16,d=!0));for(let t=0;t<h.length;t++){const r=h[t],{top:i}=r.getBoundingClientRect(),a=h[t+1],u=a?a.getBoundingClientRect().top:n.bottom;if(e(8,M=(o-i)/(u-i)),u>=o){e(6,b=t);break}}}return E((()=>{h=s.querySelectorAll(w),e(7,x=h.length),S();const t={outer:l,update:S};return _u.add(t),()=>_u.remove(t)})),t.$$set=t=>{"top"in t&&e(11,m=t.top),"bottom"in t&&e(12,y=t.bottom),"threshold"in t&&e(13,v=t.threshold),"query"in t&&e(14,w=t.query),"parallax"in t&&e(15,_=t.parallax),"index"in t&&e(6,b=t.index),"count"in t&&e(7,x=t.count),"offset"in t&&e(8,M=t.offset),"progress"in t&&e(9,$=t.progress),"visible"in t&&e(10,T=t.visible),"$$scope"in t&&e(19,g=t.$$scope)},t.$$.update=()=>{2049&t.$$.dirty[0]&&(r=Math.round(m*D)),4097&t.$$.dirty[0]&&(i=Math.round(y*D)),8193&t.$$.dirty[0]&&(o=Math.round(v*D)),47104&t.$$.dirty[0]&&S(),196608&t.$$.dirty[0]&&e(5,a=`\n\t\tposition: ${d?"fixed":"absolute"};\n\t\ttop: 0;\n\t\ttransform: translate(0, ${C}px);\n\t\tz-index: 1;\n\t`),327680&t.$$.dirty[0]&&e(4,u=d?`width:${k}px;`:"")},[D,l,s,c,u,a,b,x,M,$,T,m,y,v,w,_,d,C,k,g,p,function(){e(0,D=du.innerHeight)},function(t){L[t?"unshift":"push"]((()=>{c=t,e(3,c)}))},function(t){L[t?"unshift":"push"]((()=>{s=t,e(2,s)}))},function(t){L[t?"unshift":"push"]((()=>{l=t,e(1,l)}))}]}class xu extends it{constructor(t){super(),rt(this,t,bu,vu,o,{top:11,bottom:12,threshold:13,query:14,parallax:15,index:6,count:7,offset:8,progress:9,visible:10},null,[-1,-1])}}const Mu=[];function $u(t){return"[object Date]"===Object.prototype.toString.call(t)}function Tu(t,n,e,r){if("number"==typeof e||$u(e)){const i=r-e,o=(e-n)/(t.dt||1/60),a=(o+(t.opts.stiffness*i-t.opts.damping*o)*t.inv_mass)*t.dt;return Math.abs(a)<t.opts.precision&&Math.abs(i)<t.opts.precision?r:(t.settled=!1,$u(e)?new Date(e.getTime()+a):e+a)}if(Array.isArray(e))return e.map(((i,o)=>Tu(t,n[o],e[o],r[o])));if("object"==typeof e){const i={};for(const o in e)i[o]=Tu(t,n[o],e[o],r[o]);return i}throw new Error(`Cannot spring ${typeof e} values`)}function Du(n,e={}){const r=function(n,e=t){let r;const i=new Set;function a(t){if(o(n,t)&&(n=t,r)){const t=!Mu.length;for(const t of i)t[1](),Mu.push(t,n);if(t){for(let t=0;t<Mu.length;t+=2)Mu[t][0](Mu[t+1]);Mu.length=0}}}return{set:a,update:function(t){a(t(n))},subscribe:function(o,u=t){const l=[o,u];return i.add(l),1===i.size&&(r=e(a)||t),o(n),()=>{i.delete(l),0===i.size&&(r(),r=null)}}}}(n),{stiffness:i=.15,damping:a=.8,precision:u=.01}=e;let l,s,c,f=n,h=n,y=1,v=0,w=!1;function _(t,e={}){h=t;const i=c={};if(null==n||e.hard||b.stiffness>=1&&b.damping>=1)return w=!0,l=d(),f=t,r.set(n=h),Promise.resolve();if(e.soft){const t=!0===e.soft?.5:+e.soft;v=1/(60*t),y=0}return s||(l=d(),w=!1,s=function(t){let n;return 0===g.size&&p(m),{promise:new Promise((e=>{g.add(n={c:t,f:e})})),abort(){g.delete(n)}}}((t=>{if(w)return w=!1,s=null,!1;y=Math.min(y+v,1);const e={inv_mass:y,opts:b,settled:!0,dt:60*(t-l)/1e3},i=Tu(e,f,n,h);return l=t,f=n,r.set(n=i),e.settled&&(s=null),!e.settled}))),new Promise((t=>{s.promise.then((()=>{i===c&&t()}))}))}const b={set:_,update:(t,e)=>_(t(h,n),e),subscribe:r.subscribe,stiffness:i,damping:a,precision:u};return b}function Cu(t,n,e){const r=t.slice();return r[22]=n[e],r}function ku(t,n,e){const r=t.slice();return r[25]=n[e].strokeWidth,r[26]=n[e].opacity,r[27]=n[e].cx,r[28]=n[e].cy,r[29]=n[e].cr,r[30]=n[e].r,r[31]=n[e].g,r[32]=n[e].b,r}function Su(t){let n,e,r,i,o,a,u;return{c(){n=x("circle"),D(n,"style",e=t[9](t[27],t[28])),D(n,"r",r=t[29]),D(n,"stroke","#cccccc"),D(n,"stroke-width",i=t[25]),D(n,"stroke-opacity",o=t[26]),D(n,"fill",a="rgb("+t[30]+", "+t[31]+", "+t[32]+")"),D(n,"fill-opacity",u=t[26])},m(t,e){v(t,n,e)},p(t,l){8&l[0]&&e!==(e=t[9](t[27],t[28]))&&D(n,"style",e),8&l[0]&&r!==(r=t[29])&&D(n,"r",r),8&l[0]&&i!==(i=t[25])&&D(n,"stroke-width",i),8&l[0]&&o!==(o=t[26])&&D(n,"stroke-opacity",o),8&l[0]&&a!==(a="rgb("+t[30]+", "+t[31]+", "+t[32]+")")&&D(n,"fill",a),8&l[0]&&u!==(u=t[26])&&D(n,"fill-opacity",u)},d(t){t&&w(n)}}}function Au(n){let e,r,i,o;return{c(){e=x("g"),r=x("image"),D(r,"width",Lu),D(r,"height",Lu),D(r,"transform",i="translate(\n                    "+n[8](n[4]("2030-12-31"))*Math.cos(n[7](25*n[22]))+",\n                    "+-n[8](n[4]("2030-12-31"))*Math.sin(n[7](25*n[22]))+")"),D(r,"href",o="./image/moon-phases/"+(n[22]+1)+".jpeg")},m(t,n){v(t,e,n),y(e,r)},p:t,d(t){t&&w(e)}}}function Nu(t){let n,e,r,i,o,a,u=t[3],l=[];for(let n=0;n<u.length;n+=1)l[n]=Su(ku(t,u,n));let s=t[11],c=[];for(let n=0;n<s.length;n+=1)c[n]=Au(Cu(t,s,n));return{c(){n=b("div"),e=x("svg"),r=x("g"),i=x("g"),o=x("g");for(let t=0;t<l.length;t+=1)l[t].c();a=x("g");for(let t=0;t<c.length;t+=1)c[t].c();D(o,"class","dots"),D(i,"transform","translate("+t[5]/2+", "+t[6]/2+")"),D(a,"class","imgs"),D(a,"transform","translate("+(t[5]/2-Lu/2)+", "+(t[6]/2-Lu/2)+")"),D(r,"id","radial-scatter"),D(e,"width",t[5]),D(e,"height",t[6]),D(n,"class","scroller background svelte-1ldyf6u"),D(n,"slot","background")},m(t,u){v(t,n,u),y(n,e),y(e,r),y(r,i),y(i,o);for(let t=0;t<l.length;t+=1)l[t].m(o,null);y(r,a);for(let t=0;t<c.length;t+=1)c[t].m(a,null)},p(t,n){if(520&n[0]){let e;for(u=t[3],e=0;e<u.length;e+=1){const r=ku(t,u,e);l[e]?l[e].p(r,n):(l[e]=Su(r),l[e].c(),l[e].m(o,null))}for(;e<l.length;e+=1)l[e].d(1);l.length=u.length}if(2448&n[0]){let e;for(s=t[11],e=0;e<s.length;e+=1){const r=Cu(t,s,e);c[e]?c[e].p(r,n):(c[e]=Au(r),c[e].c(),c[e].m(a,null))}for(;e<c.length;e+=1)c[e].d(1);c.length=s.length}},d(t){t&&w(n),_(l,t),_(c,t)}}}function Eu(t){let n;return{c(){n=b("div"),n.innerHTML='<section data-section-id="1" class="step svelte-1ldyf6u"><div class="step-text svelte-1ldyf6u"><p>Section 1...</p> \n        <p>Some explanation... Moon phases x fatal accidents radial scatter plot. Circle sizes = fatalities. Big accidents happened when...</p></div></section> \n    <section data-section-id="2" class="step svelte-1ldyf6u"><div class="step-text svelte-1ldyf6u"><p>Section 2...</p> \n        <p>Some more explanation... Look for some data point to highlight? 9/11 attack?</p></div></section> \n    <section data-section-id="3" class="step svelte-1ldyf6u"><div class="step-text svelte-1ldyf6u"><p>Section 3...</p> \n        <p>Some explanation... Make it interactive? Or we can just remove this section.</p></div></section>',D(n,"class","scroller foreground svelte-1ldyf6u"),D(n,"slot","foreground")},m(t,e){v(t,n,e)},d(t){t&&w(n)}}}function Uu(t){let n,e,r,i,o,a,u,l,s;function c(n){t[13](n)}function f(n){t[14](n)}function h(n){t[15](n)}let d={top:0,bottom:1,$$slots:{foreground:[Eu],background:[Nu]},$$scope:{ctx:t}};return void 0!==t[0]&&(d.index=t[0]),void 0!==t[1]&&(d.offset=t[1]),void 0!==t[2]&&(d.progress=t[2]),o=new xu({props:d}),L.push((()=>Q(o,"index",c))),L.push((()=>Q(o,"offset",f))),L.push((()=>Q(o,"progress",h))),{c(){n=b("section"),n.innerHTML="<article><h2>Moon phases x accidents</h2> \n    <ul><li>How the moon phases</li> \n      <li>Data viz: radial scatter plot (interactive)</li> \n      <li>Table: Top 30 deadliest accidents and moon phases</li></ul></article>",e=$(),r=b("div"),r.innerHTML='<iframe src="https://flo.uri.sh/visualisation/8040745/embed" title="Interactive or visual content" class="flourish-embed-iframe" frameborder="0" scrolling="no" style="width:100%;height:500px;" sandbox="allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation"></iframe> \n  <div style="width:100%!;margin-top:4px!important;text-align:right!important;"><a class="flourish-credit" href="https://public.flourish.studio/visualisation/8040745/?utm_source=embed&amp;utm_campaign=visualisation/8040745" target="_top" style="text-decoration:none!important"><img alt="Made with Flourish" src="https://public.flourish.studio/resources/made_with_flourish.svg" style="width:105px!important;height:16px!important;border:none!important;margin:0!important;"/></a></div>',i=$(),K(o.$$.fragment),D(r,"class","flourish-embed svelte-1ldyf6u")},m(t,a){v(t,n,a),v(t,e,a),v(t,r,a),v(t,i,a),tt(o,t,a),s=!0},p(t,n){const e={};8&n[0]|16&n[1]&&(e.$$scope={dirty:n,ctx:t}),!a&&1&n[0]&&(a=!0,e.index=t[0],Y((()=>a=!1))),!u&&2&n[0]&&(u=!0,e.offset=t[1],Y((()=>u=!1))),!l&&4&n[0]&&(l=!0,e.progress=t[2],Y((()=>l=!1))),o.$set(e)},i(t){s||(V(o.$$.fragment,t),s=!0)},o(t){Z(o.$$.fragment,t),s=!1},d(t){t&&w(n),t&&w(e),t&&w(r),t&&w(i),nt(o,t)}}}let Lu=75;function qu(t,n,e){let r,i,o,u,{data:l}=n;const s=Uo("%Y-%m-%d");l.map((t=>{t.date=s(t.date),t.year=+t.year,t.est_pct_illuminated=+t.est_pct_illuminated,t.pct_fixed=+t.pct_fixed,t.fatalities=+t.fatalities}));const c=.6*window.innerWidth,f=window.innerHeight,h=c>f?.6*f-150:.6*c-150,d=Ai().domain([0,200]).range([2*Math.PI,0]),p=function(){return vi.apply(Ka(Do,Co,so,uo,ro,no,Ki,Ji,Vi,Eo).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}().domain([s("1966-01-01"),s("2030-12-31")]).range([0,h]),g=function(){return qi.apply(null,arguments).exponent(.5)}().domain(st(l,(t=>t.fatalities))).range([1,15]),m=Ai().domain(st(l,(t=>t.fatalities))).range([.1,.8]);console.log(g(1));const y={r:255,g:255,b:0};let v=Du(l.map((t=>({cx:p(t.date)*Math.cos(d(t.pct_fixed)),cy:-p(t.date)*Math.sin(d(t.pct_fixed)),cr:g(t.fatalities),strokeWidth:.4,opacity:m(t.fatalities),r:y.r,g:y.g,b:y.b}))),{stiffness:.1,damping:.9});a(t,v,(t=>e(3,r=t)));let w=[...Array(8).keys()];return t.$$set=t=>{"data"in t&&e(12,l=t.data)},[i,o,u,r,s,c,f,d,p,(t,n)=>`transform: translate(${t}px, ${n}px)`,v,w,l,function(t){i=t,e(0,i)},function(t){o=t,e(1,o)},function(t){u=t,e(2,u)}]}class Fu extends it{constructor(t){super(),rt(this,t,qu,Uu,o,{data:12},null,[-1,-1])}}function Ru(t,n,e){const r=t.slice();return r[23]=n[e].id,r[24]=n[e].strokeWidth,r[25]=n[e].opacity,r[26]=n[e].y,r[27]=n[e].r,r[28]=n[e].g,r[29]=n[e].b,r}function Hu(t){let n,e,r,i,o,a,u;return{c(){n=x("path"),D(n,"style",e=t[8](t[26])+"; opacity: "+t[25]),D(n,"data-id",r=t[0][t[23]].density),D(n,"d",i=t[0][t[23]].line(t[0][t[23]].density)),D(n,"fill",o="rgb("+t[27]+", "+t[28]+", "+t[29]+")"),D(n,"fill-opacity","0.4"),D(n,"stroke-width",a=t[24]),D(n,"stroke",u="rgb("+t[27]+", "+t[28]+", "+t[29]+")")},m(t,e){v(t,n,e)},p(t,l){16&l[0]&&e!==(e=t[8](t[26])+"; opacity: "+t[25])&&D(n,"style",e),17&l[0]&&r!==(r=t[0][t[23]].density)&&D(n,"data-id",r),17&l[0]&&i!==(i=t[0][t[23]].line(t[0][t[23]].density))&&D(n,"d",i),16&l[0]&&o!==(o="rgb("+t[27]+", "+t[28]+", "+t[29]+")")&&D(n,"fill",o),16&l[0]&&a!==(a=t[24])&&D(n,"stroke-width",a),16&l[0]&&u!==(u="rgb("+t[27]+", "+t[28]+", "+t[29]+")")&&D(n,"stroke",u)},d(t){t&&w(n)}}}function zu(t){let n,e,r,i,o=t[4],a=[];for(let n=0;n<o.length;n+=1)a[n]=Hu(Ru(t,o,n));return{c(){n=b("div"),e=x("svg"),r=x("g"),i=x("g");for(let t=0;t<a.length;t+=1)a[t].c();D(i,"id","density-plot"),D(r,"transform","translate("+t[7].l+", "+t[7].t+")"),D(e,"width",t[5]),D(e,"height",t[6]),D(n,"class","scroller background svelte-ac18uu"),D(n,"slot","background")},m(t,o){v(t,n,o),y(n,e),y(e,r),y(r,i);for(let t=0;t<a.length;t+=1)a[t].m(i,null)},p(t,n){if(273&n[0]){let e;for(o=t[4],e=0;e<o.length;e+=1){const r=Ru(t,o,e);a[e]?a[e].p(r,n):(a[e]=Hu(r),a[e].c(),a[e].m(i,null))}for(;e<a.length;e+=1)a[e].d(1);a.length=o.length}},d(t){t&&w(n),_(a,t)}}}function Yu(t){let n;return{c(){n=b("div"),n.innerHTML='<section data-section-id="1" class="step svelte-ac18uu"><div class="step-text svelte-ac18uu"><p>Section 1...</p> \n        <p>Explain something here... Overlapped density plot</p></div></section> \n    <section data-section-id="2" class="step svelte-ac18uu"><div class="step-text svelte-ac18uu"><p>Section 2...</p> \n        <p>Explain something here... Top: delay % in normal days / Bottom: delay % when mercury is in retrograde</p></div></section> \n    <section data-section-id="3" class="step svelte-ac18uu"><div class="step-text svelte-ac18uu"><p>Section 3...</p> \n        <p>Make it interactive? Or we can just remove this section.</p></div></section>',D(n,"class","scroller foreground svelte-ac18uu"),D(n,"slot","foreground")},m(t,e){v(t,n,e)},d(t){t&&w(n)}}}function Ou(t){let n,e,r,i,o,a,u,l,s;function c(n){t[12](n)}function f(n){t[13](n)}function h(n){t[14](n)}let d={top:0,bottom:1,$$slots:{foreground:[Yu],background:[zu]},$$scope:{ctx:t}};return void 0!==t[1]&&(d.index=t[1]),void 0!==t[2]&&(d.offset=t[2]),void 0!==t[3]&&(d.progress=t[3]),r=new xu({props:d}),L.push((()=>Q(r,"index",c))),L.push((()=>Q(r,"offset",f))),L.push((()=>Q(r,"progress",h))),{c(){n=b("section"),n.innerHTML="<article><h2>Mercury retrograde x flight delays</h2> \n    <ul><li>How Mercury gets in retrograde\n        <ul><li>Data viz: calendar?</li></ul></li> \n      <li>General explanation and distribution of flight delays\n        <ul><li>Explain 15-minute period</li> \n          <li>2020 was very unusual</li></ul></li> \n      <li>Data viz: density plot (interactive)\n        <ul><li>Slightly delays per day when Mercury is in retrograde</li></ul></li></ul></article>",e=$(),K(r.$$.fragment),u=$(),l=b("article"),l.innerHTML="<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque alias aspernatur animi tempora exercitationem atque. Eaque cupiditate laborum mollitia magnam, libero at architecto? Expedita optio a laboriosam ea neque iusto.</p> \n  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Fugit expedita ipsam similique sapiente ipsum quia cumque, praesentium exercitationem nemo magni velit, recusandae ea explicabo possimus blanditiis totam, alias quod quidem.</p>"},m(t,i){v(t,n,i),v(t,e,i),tt(r,t,i),v(t,u,i),v(t,l,i),s=!0},p(t,n){const e={};17&n[0]|2&n[1]&&(e.$$scope={dirty:n,ctx:t}),!i&&2&n[0]&&(i=!0,e.index=t[1],Y((()=>i=!1))),!o&&4&n[0]&&(o=!0,e.offset=t[2],Y((()=>o=!1))),!a&&8&n[0]&&(a=!0,e.progress=t[3],Y((()=>a=!1))),r.$set(e)},i(t){s||(V(r.$$.fragment,t),s=!0)},o(t){Z(r.$$.fragment,t),s=!1},d(t){t&&w(n),t&&w(e),nt(r,t),t&&w(u),t&&w(l)}}}function ju(t,n,e){let r,i,o,u,l,{data:s}=n;s.map((t=>{t.delay=+t.delay,t.delay_pct=+t.delay_pct,t.on_time_pct=+t.on_time_pct,t.total=+t.total}));let c=s.filter((t=>"TRUE"===t.retrograde)),f=s.filter((t=>"FALSE"===t.retrograde));console.log(c),console.log(f);const h=window.innerWidth/2,d=window.innerHeight,p={t:10,r:25,b:25,l:25},g={r:255,g:255,b:0},m=238;let y=Ai().domain([1,7]).range([p.l,h-p.r]),v=Ai().domain([0,.8]).range([d/2-p.b,p.t]);const w=(x=.1,_=function(t){return Math.abs(t/=x)<=1?.75*(1-t*t)/x:0},b=y.ticks(20),function(t){return b.map((function(n){return[n,gt(t,(function(t){return _(n-t)}))]}))});var _,b,x;i=[{retrograde:"TRUE",density:w(c.map((t=>t.delay_pct)))},{retrograde:"FALSE",density:w(f.map((t=>t.delay_pct)))}],i.map((t=>{t.line=ou().curve(lu).x((t=>y(t[0]))).y((t=>v(t[1])))}));let M,$=Du(i.map((t=>({id:"TRUE"===t.retrograde?0:1,strokeWidth:1,opacity:1,y:0,r:"TRUE"===t.retrograde?g.r:m,g:"TRUE"===t.retrograde?g.g:m,b:"TRUE"===t.retrograde?g.b:m}))),{stiffness:.1,damping:.9});return a(t,$,(t=>e(4,r=t))),t.$$set=t=>{"data"in t&&e(10,s=t.data)},t.$$.update=()=>{2051&t.$$.dirty[0]&&(0===o?e(11,M=i.map((t=>({id:"TRUE"===t.retrograde?0:1,strokeWidth:1,opacity:1,y:0,r:"TRUE"===t.retrograde?g.r:m,g:"TRUE"===t.retrograde?g.g:m,b:"TRUE"===t.retrograde?g.b:m})))):1===o&&e(11,M=i.map((t=>({id:"TRUE"===t.retrograde?0:1,strokeWidth:1,opacity:"TRUE"===t.retrograde?1:.5,y:"TRUE"===t.retrograde?d/3:0,r:"TRUE"===t.retrograde?g.r:m,g:"TRUE"===t.retrograde?g.g:m,b:"TRUE"===t.retrograde?g.b:m})))),$.set(M))},[i,o,u,l,r,h,d,p,t=>`transform: translate(0px, ${t}px)`,$,s,M,function(t){o=t,e(1,o)},function(t){u=t,e(2,u)},function(t){l=t,e(3,l)}]}class Pu extends it{constructor(t){super(),rt(this,t,ju,Ou,o,{data:10},null,[-1,-1])}}function Bu(t){const n=new Date(t.getFullYear(),t.getMonth(),1).getDay(),e=t.getDate()+n-1;return Math.floor(e/7)}function Iu(t){if(t instanceof Date)return t;if(["number","string"].includes(typeof t))return new Date(t);throw new Error("Invalid date value")}function Wu(t){return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}function Gu({colors:t,data:n,emptyColor:e,endDate:r,startDate:i,view:o}){i=i?Iu(i):new Date,r=r?Iu(r):new Date,"monthly"===o?(i=function(t){return new Date(t.getFullYear(),t.getMonth(),1)}(i),r=function(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}(r)):(i=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay())}(i),r=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(6-t.getDay()))}(r));let a=0;const u=i.getDate(),l=Math.floor((r-i)/864e5)+1;return new Array(l).fill().map(((t,e)=>{const r=function({data:t,offset:n,startDate:e,startDayOfMonth:r}){const i=new Date(e);i.setDate(r+n);const o=new Date(i);o.setDate(i.getDate()+1);const a=t.reduce(((t,n)=>{const e=Iu(n.date);return e>=i&&e<o?t+n.value:t}),0);return{date:i,value:a}}({data:n,offset:e,startDate:i,startDayOfMonth:u});return r.value>a&&(a=r.value),r})).map((({date:n,value:r})=>{let i=function({colors:t,max:n,value:e}){if(t.length&&e){let r=t[0];const i=e/n;for(let n=1;n<t.length;n++){if(i<n/t.length)return r;r=t[n]}return t[t.length-1]}return null}({colors:t,max:a,value:r})||e;return{color:i,date:n,value:r}}))}function Xu(n){let e,r;return{c(){e=x("rect"),D(e,"data-date",r=Wu(n[1])),D(e,"data-value",n[4]),D(e,"fill",n[0]),D(e,"height",n[3]),D(e,"rx",n[2]),D(e,"width",n[3]),D(e,"x",n[5]),D(e,"y",n[6])},m(t,n){v(t,e,n)},p(t,[n]){2&n&&r!==(r=Wu(t[1]))&&D(e,"data-date",r),16&n&&D(e,"data-value",t[4]),1&n&&D(e,"fill",t[0]),8&n&&D(e,"height",t[3]),4&n&&D(e,"rx",t[2]),8&n&&D(e,"width",t[3]),32&n&&D(e,"x",t[5]),64&n&&D(e,"y",t[6])},i:t,o:t,d(t){t&&w(e)}}}function Vu(t,n,e){let{color:r}=n,{date:i}=n,{radius:o}=n,{size:a}=n,{value:u}=n,{x:l}=n,{y:s}=n;return t.$$set=t=>{"color"in t&&e(0,r=t.color),"date"in t&&e(1,i=t.date),"radius"in t&&e(2,o=t.radius),"size"in t&&e(3,a=t.size),"value"in t&&e(4,u=t.value),"x"in t&&e(5,l=t.x),"y"in t&&e(6,s=t.y)},[r,i,o,a,u,l,s]}class Zu extends it{constructor(t){super(),rt(this,t,Vu,Xu,o,{color:0,date:1,radius:2,size:3,value:4,x:5,y:6})}}function Ju(t,n,e){const r=t.slice();return r[13]=n[e],r}function Qu(t){let n,e;return n=new Zu({props:{color:t[13].color,date:t[13].date,radius:t[0],size:t[2],value:t[13].value,x:t[13].date.getDay()*t[1],y:Bu(t[13].date)*t[1]+t[7]}}),{c(){K(n.$$.fragment)},m(t,r){tt(n,t,r),e=!0},p(t,e){const r={};8&e&&(r.color=t[13].color),8&e&&(r.date=t[13].date),1&e&&(r.radius=t[0]),4&e&&(r.size=t[2]),8&e&&(r.value=t[13].value),10&e&&(r.x=t[13].date.getDay()*t[1]),138&e&&(r.y=Bu(t[13].date)*t[1]+t[7]),n.$set(r)},i(t){e||(V(n.$$.fragment,t),e=!0)},o(t){Z(n.$$.fragment,t),e=!1},d(t){nt(n,t)}}}function Ku(t){let n,e,r=t[8][t[3][0].date.getMonth()]+"";return{c(){n=x("text"),e=M(r),D(n,"alignment-baseline","hanging"),D(n,"fill",t[4]),D(n,"font-family",t[5]),D(n,"font-size",t[6]),D(n,"x","0"),D(n,"y","0")},m(t,r){v(t,n,r),y(n,e)},p(t,i){264&i&&r!==(r=t[8][t[3][0].date.getMonth()]+"")&&k(e,r),16&i&&D(n,"fill",t[4]),32&i&&D(n,"font-family",t[5]),64&i&&D(n,"font-size",t[6])},d(t){t&&w(n)}}}function tl(t){let n,e,r,i,o=t[3],a=[];for(let n=0;n<o.length;n+=1)a[n]=Qu(Ju(t,o,n));const u=t=>Z(a[t],1,1,(()=>{a[t]=null}));let l=t[7]>0&&Ku(t);return{c(){n=x("g");for(let t=0;t<a.length;t+=1)a[t].c();e=T(),l&&l.c(),D(n,"transform",r=`translate(${t[9]}, 0)`)},m(t,r){v(t,n,r);for(let t=0;t<a.length;t+=1)a[t].m(n,null);y(n,e),l&&l.m(n,null),i=!0},p(t,[s]){if(143&s){let r;for(o=t[3],r=0;r<o.length;r+=1){const i=Ju(t,o,r);a[r]?(a[r].p(i,s),V(a[r],1)):(a[r]=Qu(i),a[r].c(),V(a[r],1),a[r].m(n,e))}for(G(),r=o.length;r<a.length;r+=1)u(r);X()}t[7]>0?l?l.p(t,s):(l=Ku(t),l.c(),l.m(n,null)):l&&(l.d(1),l=null),(!i||512&s&&r!==(r=`translate(${t[9]}, 0)`))&&D(n,"transform",r)},i(t){if(!i){for(let t=0;t<o.length;t+=1)V(a[t]);i=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)Z(a[t]);i=!1},d(t){t&&w(n),_(a,t),l&&l.d()}}}function nl(t,n,e){let r,{cellGap:i}=n,{cellRadius:o}=n,{cellRect:a}=n,{cellSize:u}=n,{days:l}=n,{fontColor:s}=n,{fontFamily:c}=n,{fontSize:f}=n,{index:h}=n,{monthGap:d}=n,{monthLabelHeight:p}=n,{monthLabels:g}=n;return t.$$set=t=>{"cellGap"in t&&e(10,i=t.cellGap),"cellRadius"in t&&e(0,o=t.cellRadius),"cellRect"in t&&e(1,a=t.cellRect),"cellSize"in t&&e(2,u=t.cellSize),"days"in t&&e(3,l=t.days),"fontColor"in t&&e(4,s=t.fontColor),"fontFamily"in t&&e(5,c=t.fontFamily),"fontSize"in t&&e(6,f=t.fontSize),"index"in t&&e(11,h=t.index),"monthGap"in t&&e(12,d=t.monthGap),"monthLabelHeight"in t&&e(7,p=t.monthLabelHeight),"monthLabels"in t&&e(8,g=t.monthLabels)},t.$$.update=()=>{7170&t.$$.dirty&&e(9,r=(7*a-i+d)*h)},[o,a,u,l,s,c,f,p,g,r,i,h,d]}class el extends it{constructor(t){super(),rt(this,t,nl,tl,o,{cellGap:10,cellRadius:0,cellRect:1,cellSize:2,days:3,fontColor:4,fontFamily:5,fontSize:6,index:11,monthGap:12,monthLabelHeight:7,monthLabels:8})}}function rl(t,n,e){const r=t.slice();return r[7]=n[e],r[6]=e,r}function il(t){let n,e;return n=new Zu({props:{color:t[7].color,date:t[7].date,radius:t[0],size:t[2],value:t[7].value,y:t[7].date.getDay()*t[1]}}),{c(){K(n.$$.fragment)},m(t,r){tt(n,t,r),e=!0},p(t,e){const r={};8&e&&(r.color=t[7].color),8&e&&(r.date=t[7].date),1&e&&(r.radius=t[0]),4&e&&(r.size=t[2]),8&e&&(r.value=t[7].value),10&e&&(r.y=t[7].date.getDay()*t[1]),n.$set(r)},i(t){e||(V(n.$$.fragment,t),e=!0)},o(t){Z(n.$$.fragment,t),e=!1},d(t){nt(n,t)}}}function ol(t){let n,e,r,i=t[3],o=[];for(let n=0;n<i.length;n+=1)o[n]=il(rl(t,i,n));const a=t=>Z(o[t],1,1,(()=>{o[t]=null}));return{c(){n=x("g");for(let t=0;t<o.length;t+=1)o[t].c();D(n,"transform",e=`translate(${t[5]}, ${t[4]})`)},m(t,e){v(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null);r=!0},p(t,[u]){if(15&u){let e;for(i=t[3],e=0;e<i.length;e+=1){const r=rl(t,i,e);o[e]?(o[e].p(r,u),V(o[e],1)):(o[e]=il(r),o[e].c(),V(o[e],1),o[e].m(n,null))}for(G(),e=i.length;e<o.length;e+=1)a(e);X()}(!r||48&u&&e!==(e=`translate(${t[5]}, ${t[4]})`))&&D(n,"transform",e)},i(t){if(!r){for(let t=0;t<i.length;t+=1)V(o[t]);r=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Z(o[t]);r=!1},d(t){t&&w(n),_(o,t)}}}function al(t,n,e){let r,{cellRadius:i}=n,{cellRect:o}=n,{cellSize:a}=n,{days:u}=n,{index:l}=n,{monthLabelHeight:s}=n;return t.$$set=t=>{"cellRadius"in t&&e(0,i=t.cellRadius),"cellRect"in t&&e(1,o=t.cellRect),"cellSize"in t&&e(2,a=t.cellSize),"days"in t&&e(3,u=t.days),"index"in t&&e(6,l=t.index),"monthLabelHeight"in t&&e(4,s=t.monthLabelHeight)},t.$$.update=()=>{66&t.$$.dirty&&e(5,r=o*l)},[i,o,a,u,s,r,l]}class ul extends it{constructor(t){super(),rt(this,t,al,ol,o,{cellRadius:0,cellRect:1,cellSize:2,days:3,index:6,monthLabelHeight:4})}}function ll(t,n,e){const r=t.slice();return r[26]=n[e],r[28]=e,r}function sl(t,n,e){const r=t.slice();return r[30]=n[e],r[28]=e,r}function cl(t,n,e){const r=t.slice();return r[26]=n[e],r[28]=e,r}function fl(t){let n,e,r,i=t[3]>0&&dl(t),o=t[13],a=[];for(let n=0;n<o.length;n+=1)a[n]=ml(ll(t,o,n));const u=t=>Z(a[t],1,1,(()=>{a[t]=null}));return{c(){i&&i.c(),n=x("g");for(let t=0;t<a.length;t+=1)a[t].c();D(n,"transform",e=`translate(${t[3]})`)},m(t,e){i&&i.m(t,e),v(t,n,e);for(let t=0;t<a.length;t+=1)a[t].m(n,null);r=!0},p(t,l){if(t[3]>0?i?i.p(t,l):(i=dl(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),145126&l[0]){let e;for(o=t[13],e=0;e<o.length;e+=1){const r=ll(t,o,e);a[e]?(a[e].p(r,l),V(a[e],1)):(a[e]=ml(r),a[e].c(),V(a[e],1),a[e].m(n,null))}for(G(),e=o.length;e<a.length;e+=1)u(e);X()}(!r||8&l[0]&&e!==(e=`translate(${t[3]})`))&&D(n,"transform",e)},i(t){if(!r){for(let t=0;t<o.length;t+=1)V(a[t]);r=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)Z(a[t]);r=!1},d(t){i&&i.d(t),t&&w(n),_(a,t)}}}function hl(t){let n,e,r=t[13],i=[];for(let n=0;n<r.length;n+=1)i[n]=yl(cl(t,r,n));const o=t=>Z(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();n=T()},m(t,r){for(let n=0;n<i.length;n+=1)i[n].m(t,r);v(t,n,r),e=!0},p(t,e){if(14311&e[0]){let a;for(r=t[13],a=0;a<r.length;a+=1){const o=cl(t,r,a);i[a]?(i[a].p(o,e),V(i[a],1)):(i[a]=yl(o),i[a].c(),V(i[a],1),i[a].m(n.parentNode,n))}for(G(),a=r.length;a<i.length;a+=1)o(a);X()}},i(t){if(!e){for(let t=0;t<r.length;t+=1)V(i[t]);e=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Z(i[t]);e=!1},d(t){_(i,t),t&&w(n)}}}function dl(t){let n,e=t[4],r=[];for(let n=0;n<e.length;n+=1)r[n]=pl(sl(t,e,n));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=T()},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);v(t,n,e)},p(t,i){if(16624&i[0]){let o;for(e=t[4],o=0;o<e.length;o+=1){const a=sl(t,e,o);r[o]?r[o].p(a,i):(r[o]=pl(a),r[o].c(),r[o].m(n.parentNode,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=e.length}},d(t){_(r,t),t&&w(n)}}}function pl(t){let n,e,r,i=t[30]+"";return{c(){n=x("text"),e=M(i),D(n,"alignment-baseline","middle"),D(n,"fill",t[5]),D(n,"font-family",t[6]),D(n,"font-size",t[7]),D(n,"x","0"),D(n,"y",r=t[14](t[28]))},m(t,r){v(t,n,r),y(n,e)},p(t,o){16&o[0]&&i!==(i=t[30]+"")&&k(e,i),32&o[0]&&D(n,"fill",t[5]),64&o[0]&&D(n,"font-family",t[6]),128&o[0]&&D(n,"font-size",t[7]),16384&o[0]&&r!==(r=t[14](t[28]))&&D(n,"y",r)},d(t){t&&w(n)}}}function gl(t){let n,e,r,i=t[10][t[26][0].date.getMonth()]+"";return{c(){n=x("text"),e=M(i),D(n,"alignment-baseline","hanging"),D(n,"fill",t[5]),D(n,"font-family",t[6]),D(n,"font-size",t[7]),D(n,"x",r=t[12]*t[28])},m(t,r){v(t,n,r),y(n,e)},p(t,o){9216&o[0]&&i!==(i=t[10][t[26][0].date.getMonth()]+"")&&k(e,i),32&o[0]&&D(n,"fill",t[5]),64&o[0]&&D(n,"font-family",t[6]),128&o[0]&&D(n,"font-size",t[7]),4096&o[0]&&r!==(r=t[12]*t[28])&&D(n,"x",r)},d(t){t&&w(n)}}}function ml(t){let n,e,r,i=t[9]>0&&t[17](t[13],t[28]);n=new ul({props:{cellRadius:t[1],cellRect:t[12],cellSize:t[2],days:t[26],index:t[28],monthLabelHeight:t[9]}});let o=i&&gl(t);return{c(){K(n.$$.fragment),o&&o.c(),e=T()},m(t,i){tt(n,t,i),o&&o.m(t,i),v(t,e,i),r=!0},p(t,r){const a={};2&r[0]&&(a.cellRadius=t[1]),4096&r[0]&&(a.cellRect=t[12]),4&r[0]&&(a.cellSize=t[2]),8192&r[0]&&(a.days=t[26]),512&r[0]&&(a.monthLabelHeight=t[9]),n.$set(a),8704&r[0]&&(i=t[9]>0&&t[17](t[13],t[28])),i?o?o.p(t,r):(o=gl(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},i(t){r||(V(n.$$.fragment,t),r=!0)},o(t){Z(n.$$.fragment,t),r=!1},d(t){nt(n,t),o&&o.d(t),t&&w(e)}}}function yl(t){let n,e;return n=new el({props:{cellGap:t[0],cellRadius:t[1],cellRect:t[12],cellSize:t[2],days:t[26],fontColor:t[5],fontFamily:t[6],fontSize:t[7],index:t[28],monthGap:t[8],monthLabelHeight:t[9],monthLabels:t[10]}}),{c(){K(n.$$.fragment)},m(t,r){tt(n,t,r),e=!0},p(t,e){const r={};1&e[0]&&(r.cellGap=t[0]),2&e[0]&&(r.cellRadius=t[1]),4096&e[0]&&(r.cellRect=t[12]),4&e[0]&&(r.cellSize=t[2]),8192&e[0]&&(r.days=t[26]),32&e[0]&&(r.fontColor=t[5]),64&e[0]&&(r.fontFamily=t[6]),128&e[0]&&(r.fontSize=t[7]),256&e[0]&&(r.monthGap=t[8]),512&e[0]&&(r.monthLabelHeight=t[9]),1024&e[0]&&(r.monthLabels=t[10]),n.$set(r)},i(t){e||(V(n.$$.fragment,t),e=!0)},o(t){Z(n.$$.fragment,t),e=!1},d(t){nt(n,t)}}}function vl(t){let n,e,r,i,o;const a=[hl,fl],u=[];function l(t,n){return"monthly"===t[11]?0:1}return e=l(t),r=u[e]=a[e](t),{c(){n=x("svg"),r.c(),D(n,"viewBox",i=`0 0 ${t[15]} ${t[16]}`)},m(t,r){v(t,n,r),u[e].m(n,null),o=!0},p(t,s){let c=e;e=l(t),e===c?u[e].p(t,s):(G(),Z(u[c],1,1,(()=>{u[c]=null})),X(),r=u[e],r?r.p(t,s):(r=u[e]=a[e](t),r.c()),V(r,1),r.m(n,null)),(!o||98304&s[0]&&i!==(i=`0 0 ${t[15]} ${t[16]}`))&&D(n,"viewBox",i)},i(t){o||(V(r),o=!0)},o(t){Z(r),o=!1},d(t){t&&w(n),u[e].d()}}}function wl(t,n,e){let r,i,o,a,u,l,s,{allowOverflow:c=!1}=n,{cellGap:f=2}=n,{cellRadius:h=0}=n,{cellSize:d=10}=n,{colors:p=["#c6e48b","#7bc96f","#239a3b","#196127"]}=n,{data:g=[]}=n,{dayLabelWidth:m=20}=n,{dayLabels:y=["","Mon","","Wed","","Fri",""]}=n,{emptyColor:v="#ebedf0"}=n,{endDate:w=null}=n,{fontColor:_="#333"}=n,{fontFamily:b="sans-serif"}=n,{fontSize:x=8}=n,{monthGap:M=2}=n,{monthLabelHeight:$=12}=n,{monthLabels:T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}=n,{startDate:D=null}=n,{view:C="weekly"}=n;return t.$$set=t=>{"allowOverflow"in t&&e(18,c=t.allowOverflow),"cellGap"in t&&e(0,f=t.cellGap),"cellRadius"in t&&e(1,h=t.cellRadius),"cellSize"in t&&e(2,d=t.cellSize),"colors"in t&&e(19,p=t.colors),"data"in t&&e(20,g=t.data),"dayLabelWidth"in t&&e(3,m=t.dayLabelWidth),"dayLabels"in t&&e(4,y=t.dayLabels),"emptyColor"in t&&e(21,v=t.emptyColor),"endDate"in t&&e(22,w=t.endDate),"fontColor"in t&&e(5,_=t.fontColor),"fontFamily"in t&&e(6,b=t.fontFamily),"fontSize"in t&&e(7,x=t.fontSize),"monthGap"in t&&e(8,M=t.monthGap),"monthLabelHeight"in t&&e(9,$=t.monthLabelHeight),"monthLabels"in t&&e(10,T=t.monthLabels),"startDate"in t&&e(23,D=t.startDate),"view"in t&&e(11,C=t.view)},t.$$.update=()=>{5&t.$$.dirty[0]&&e(12,r=d+f),16517120&t.$$.dirty[0]&&e(25,i=Gu({allowOverflow:c,colors:p,data:g,emptyColor:v,endDate:w,startDate:D,view:C})),46401536&t.$$.dirty[0]&&e(13,o="monthly"===C?function({allowOverflow:t,calendar:n,endDate:e,startDate:r}){let i=-1;return r=Iu(r),e=Iu(e),n.reduce(((n,o)=>{const a=o.date.getMonth();return i!==a&&(n.push([]),i=a),(t||(!r||o.date>=r)&&(!e||o.date<=e))&&n[n.length-1].push(o),n}),[])}({allowOverflow:c,calendar:i,endDate:w,startDate:D}):function({allowOverflow:t,calendar:n,endDate:e,startDate:r}){return r=Iu(r),e=Iu(e),n.reduce(((n,i,o)=>(o%7==0&&n.push([]),(t||(!r||i.date>=r)&&(!e||i.date<=e))&&n[n.length-1].push(i),n)),[])}({allowOverflow:c,calendar:i,endDate:w,startDate:D})),4097&t.$$.dirty[0]&&e(24,a=7*r-f),16783873&t.$$.dirty[0]&&e(16,u="monthly"===C?6*r-f+$:a+$),16791817&t.$$.dirty[0]&&e(15,l="monthly"===C?(a+M)*o.length-M:r*o.length-f+m),4608&t.$$.dirty[0]&&e(14,s=t=>r*t+r/2+$)},[f,h,d,m,y,_,b,x,M,$,T,C,r,o,s,l,u,(t,n)=>{const e=t[n],r=t[n-1];if(!r)return!0;if(!r.length||!e.length)return!1;const i=e[0].date.getMonth(),o=r[0].date.getMonth();return n<t.length&&n<t.length-1&&(i>o||0===i&&11===o)},c,p,g,v,w,D,a,i]}class _l extends it{constructor(t){super(),rt(this,t,wl,vl,o,{allowOverflow:18,cellGap:0,cellRadius:1,cellSize:2,colors:19,data:20,dayLabelWidth:3,dayLabels:4,emptyColor:21,endDate:22,fontColor:5,fontFamily:6,fontSize:7,monthGap:8,monthLabelHeight:9,monthLabels:10,startDate:23,view:11},null,[-1,-1])}}function bl(t,n,e){const r=t.slice();return r[10]=n[e],r}function xl(t,n,e){const r=t.slice();return r[1]=n[e].pct,r[13]=n[e].color,r[10]=e,r}function Ml(n){let e,r,i,o,a,u,l,s=n[1]+"";return{c(){e=x("rect"),o=x("text"),a=M(s),u=M("%"),D(e,"x",r=50*n[10]),D(e,"y","10"),D(e,"width","15"),D(e,"height","15"),D(e,"fill",i=n[13]),D(e,"class","svelte-1iuq8ci"),D(o,"x",l=50*n[10]),D(o,"y","45"),D(o,"fill","gray"),D(o,"class","svelte-1iuq8ci")},m(t,n){v(t,e,n),v(t,o,n),y(o,a),y(o,u)},p:t,d(t){t&&w(e),t&&w(o)}}}function $l(t){let n,e,r,i,o,a,u,l=t[10].title+"";return o=new _l({props:{allowOverflow:!1,cellGap:5,cellRadius:0,colors:t[3],fontColor:"white",fontSize:12,fontFamily:"Fira Sans",data:t[0],dayLabelWidth:0,emptyColor:"rgba(0, 0, 30, 0)",startDate:t[10].start,endDate:t[10].end,monthLabelHeight:25,view:"yearly"}}),{c(){n=b("h4"),e=M(l),r=$(),i=b("div"),K(o.$$.fragment),a=$(),D(n,"class","svelte-1iuq8ci"),D(i,"class","heatmap")},m(t,l){v(t,n,l),y(n,e),v(t,r,l),v(t,i,l),tt(o,i,null),y(i,a),u=!0},p(t,n){const e={};1&n&&(e.data=t[0]),o.$set(e)},i(t){u||(V(o.$$.fragment,t),u=!0)},o(t){Z(o.$$.fragment,t),u=!1},d(t){t&&w(n),t&&w(r),t&&w(i),nt(o)}}}function Tl(t){let n,e,r,i,o,a,u,l,s,c,f,h,d,p,g=t[4],m=[];for(let n=0;n<g.length;n+=1)m[n]=Ml(xl(t,g,n));let M=t[2],T=[];for(let n=0;n<M.length;n+=1)T[n]=$l(bl(t,M,n));const C=t=>Z(T[t],1,1,(()=>{T[t]=null}));return{c(){n=b("div"),e=b("h3"),e.textContent="What day of the year does mercury retrograde occur the most?",r=$(),i=b("p"),i.textContent="There have been 37 retrograde periods from 2010 to 2020. Mercury retrograde occers a year round, but there was a pocket of period when Mercury entered retrograde more often, from mid-October to mid-December.",o=$(),a=b("div"),u=b("strong"),u.textContent="Percentage of daily retrograde counts from 2010 to 2020",l=$(),s=x("svg"),c=x("g");for(let t=0;t<m.length;t+=1)m[t].c();f=$(),h=b("div"),d=$();for(let t=0;t<T.length;t+=1)T[t].c();D(u,"class","svelte-1iuq8ci"),D(c,"class","svelte-1iuq8ci"),D(s,"width","300"),D(s,"height","45"),D(s,"class","svelte-1iuq8ci"),D(a,"class","legend svelte-1iuq8ci"),D(h,"class","tooltip svelte-1iuq8ci"),D(n,"class","container svelte-1iuq8ci")},m(t,g){v(t,n,g),y(n,e),y(n,r),y(n,i),y(n,o),y(n,a),y(a,u),y(a,l),y(a,s),y(s,c);for(let t=0;t<m.length;t+=1)m[t].m(c,null);y(n,f),y(n,h),y(n,d);for(let t=0;t<T.length;t+=1)T[t].m(n,null);p=!0},p(t,[e]){if(16&e){let n;for(g=t[4],n=0;n<g.length;n+=1){const r=xl(t,g,n);m[n]?m[n].p(r,e):(m[n]=Ml(r),m[n].c(),m[n].m(c,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=g.length}if(13&e){let r;for(M=t[2],r=0;r<M.length;r+=1){const i=bl(t,M,r);T[r]?(T[r].p(i,e),V(T[r],1)):(T[r]=$l(i),T[r].c(),V(T[r],1),T[r].m(n,null))}for(G(),r=M.length;r<T.length;r+=1)C(r);X()}},i(t){if(!p){for(let t=0;t<M.length;t+=1)V(T[t]);p=!0}},o(t){T=T.filter(Boolean);for(let t=0;t<T.length;t+=1)Z(T[t]);p=!1},d(t){t&&w(n),_(m,t),_(T,t)}}}function Dl(t,n,e){let{data:r}=n;const i=Uo("%Y-%m-%d"),o=Eo("%B %e");r.map((t=>{t.date=i(t.date),t.false=+t.false,t.true=+t.true,t.pct_ret=+t.pct_ret,t.value=+t.pct_ret}));const a=[{title:"Warmer months",start:i("2018-04-01"),end:i("2018-09-30")},{title:"Colder months",start:i("2018-10-01"),end:i("2019-03-31")}];let u,l,s,c;return E((()=>{Hn(".heatmap").selectAll("text").attr("transform","translate(0, 15)").style("fill","gray");const t=Hn(".heatmap").selectAll("rect"),n=Rn(".tooltip");t.on("mouseover",(function(r,a){t.attr("opacity",.3),Rn(this).attr("opacity",1).attr("stroke-width",3).attr("stroke","white"),console.log(r.target.getBoundingClientRect()),u=r.layerX+5,l=r.layerY+5,console.log(r),s=Rn(this).attr("data-date"),e(1,c=Rn(this).attr("data-value")),n.style("top",`${l}px`).style("left",`${u}px`).style("display","block").html(`${o(i(s))}<br>\n                  <strong>${Math.round(10*c)/10}% in retrograde</strong>`)})).on("mouseout",(function(){t.attr("opacity",1),Rn(this).attr("opacity",1).attr("stroke-width",0),n.style("display","none")}))})),t.$$set=t=>{"data"in t&&e(0,r=t.data)},[r,c,a,["#000000","#393918","#65652a","#898920","#c4c410","#ffff33"],[{pct:8.3,color:"#393918"},{pct:13.1,color:"#65652a"},{pct:17.8,color:"#898920"},{pct:22.6,color:"#c4c410"},{pct:27.3,color:"#ffff33"}]]}_l.VERSION="1.0.2";class Cl extends it{constructor(t){super(),rt(this,t,Dl,Tl,o,{data:0})}}function kl(n){let e;return{c(){e=b("section"),e.innerHTML="<article><h2>By the way...</h2> \n    <ul><li>Mystery of three x Mercury retrograde\n        <ul><li>Data viz: Retrograde x accidents, accidents with three fatalities oddly spike</li></ul></li> \n      <li>Other findings?\n        <ul><li>No significant correlations between moon phases and delays</li></ul></li> \n      <li>Pilots input, “anonymous” \n        <ul><li>How our technology has improved over the past 40 years -- so pilots don’t have to struggle to navigate anymore, but based on his input, they also don’t know what to do when something does go wrong because we are so dependent on computers and autopilot</li></ul></li></ul></article>"},m(t,n){v(t,e,n)},p:t,i:t,o:t,d(t){t&&w(e)}}}class Sl extends it{constructor(t){super(),rt(this,t,null,kl,o,{})}}function Al(n){let e;return{c(){e=b("section"),e.innerHTML="<article><h2>Conclusion</h2> \n    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Odit rem ab fuga. Adipisci omnis totam ullam qui maxime similique, fuga dicta magnam, voluptates mollitia doloribus enim quasi possimus quidem obcaecati!</p> \n    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quae impedit temporibus accusantium ad recusandae adipisci eaque quo laudantium quos placeat iste, consequuntur qui est sit, non, magnam possimus eveniet? Debitis.</p> \n    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Maiores natus deleniti cum minus hic esse iste sapiente? Quibusdam corporis qui veniam porro modi exercitationem. Maiores officia nisi doloribus deserunt assumenda!</p></article>"},m(t,n){v(t,e,n)},p:t,i:t,o:t,d(t){t&&w(e)}}}class Nl extends it{constructor(t){super(),rt(this,t,null,Al,o,{})}}function El(n){let e;return{c(){e=b("div"),e.innerHTML='<article class="svelte-ardk8l"><h2>Methodology</h2> \n    <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Placeat rerum fugiat, dignissimos sequi a ex distinctio, impedit molestias nostrum aperiam voluptate porro veritatis ut, adipisci voluptas blanditiis? Cupiditate, vel vitae.</p> \n    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Consequatur repellendus ipsum quo qui quaerat, exercitationem veniam repellat quae at quisquam aliquid a suscipit distinctio neque praesentium est provident illo omnis?</p> \n    <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Error, soluta nobis. Quibusdam aspernatur id fugiat. Suscipit, minus vitae. Sapiente eligendi quam dolore animi tempore hic soluta libero dolores, corrupti earum.</p> \n    <br/> \n    <h2>Sources</h2> \n    <ul><li>NASA\n        <ul><li>Phases of the moon graphic</li> \n          <li>Individual phases used in table and for moon x crashes chart</li></ul></li></ul></article> \n  <div class="special-thanks svelte-ardk8l"><p>This is a group project for Telling Your Story with Data at Northeastern University&#39;s School of Journalism.</p> \n    <p>Special thanks to Prof. Matt Carroll for his valuable feedback!</p></div>',D(e,"class","methodology svelte-ardk8l")},m(t,n){v(t,e,n)},p:t,i:t,o:t,d(t){t&&w(e)}}}class Ul extends it{constructor(t){super(),rt(this,t,null,El,o,{})}}function Ll(n){return{c:t,m:t,p:t,i:t,o:t,d:t}}function ql(t){let n,e,r,i,o,a,u,l;return n=new Fu({props:{data:t[0]}}),r=new Pu({props:{data:t[1]}}),o=new Cl({props:{data:t[2]}}),u=new Sl({}),{c(){K(n.$$.fragment),e=$(),K(r.$$.fragment),i=$(),K(o.$$.fragment),a=$(),K(u.$$.fragment)},m(t,s){tt(n,t,s),v(t,e,s),tt(r,t,s),v(t,i,s),tt(o,t,s),v(t,a,s),tt(u,t,s),l=!0},p(t,e){const i={};1&e&&(i.data=t[0]),n.$set(i);const a={};2&e&&(a.data=t[1]),r.$set(a);const u={};4&e&&(u.data=t[2]),o.$set(u)},i(t){l||(V(n.$$.fragment,t),V(r.$$.fragment,t),V(o.$$.fragment,t),V(u.$$.fragment,t),l=!0)},o(t){Z(n.$$.fragment,t),Z(r.$$.fragment,t),Z(o.$$.fragment,t),Z(u.$$.fragment,t),l=!1},d(t){nt(n,t),t&&w(e),nt(r,t),t&&w(i),nt(o,t),t&&w(a),nt(u,t)}}}function Fl(n){return{c:t,m:t,p:t,i:t,o:t,d:t}}function Rl(t){let n,e,r,i,o,a,u,l,s,c;e=new cu({}),i=new hu({});let f={ctx:t,current:null,token:null,hasCatch:!1,pending:Fl,then:ql,catch:Ll,value:5,blocks:[,,,]};return function(t,n){const e=n.token={};function r(t,r,i,o){if(n.token!==e)return;n.resolved=o;let a=n.ctx;void 0!==i&&(a=a.slice(),a[i]=o);const u=t&&(n.current=t)(a);let l=!1;n.block&&(n.blocks?n.blocks.forEach(((t,e)=>{e!==r&&t&&(G(),Z(t,1,1,(()=>{n.blocks[e]===t&&(n.blocks[e]=null)})),X())})):n.block.d(1),u.c(),V(u,1),u.m(n.mount(),n.anchor),l=!0),n.block=u,n.blocks&&(n.blocks[r]=u),l&&P()}if((i=t)&&"object"==typeof i&&"function"==typeof i.then){const e=N();if(t.then((t=>{A(e),r(n.then,1,n.value,t),A(null)}),(t=>{if(A(e),r(n.catch,2,n.error,t),A(null),!n.hasCatch)throw t})),n.current!==n.pending)return r(n.pending,0),!0}else{if(n.current!==n.then)return r(n.then,1,n.value,t),!0;n.resolved=t}var i}(t[3],f),u=new Nl({}),s=new Ul({}),{c(){n=b("main"),K(e.$$.fragment),r=$(),K(i.$$.fragment),o=$(),f.block.c(),a=$(),K(u.$$.fragment),l=$(),K(s.$$.fragment)},m(t,h){v(t,n,h),tt(e,n,null),y(n,r),tt(i,n,null),y(n,o),f.block.m(n,f.anchor=null),f.mount=()=>n,f.anchor=a,y(n,a),tt(u,n,null),y(n,l),tt(s,n,null),c=!0},p(n,[e]){!function(t,n,e){const r=n.slice(),{resolved:i}=t;t.current===t.then&&(r[t.value]=i),t.current===t.catch&&(r[t.error]=i),t.block.p(r,e)}(f,t=n,e)},i(t){c||(V(e.$$.fragment,t),V(i.$$.fragment,t),V(f.block),V(u.$$.fragment,t),V(s.$$.fragment,t),c=!0)},o(t){Z(e.$$.fragment,t),Z(i.$$.fragment,t);for(let t=0;t<3;t+=1){Z(f.blocks[t])}Z(u.$$.fragment,t),Z(s.$$.fragment,t),c=!1},d(t){t&&w(n),nt(e),nt(i),f.block.d(),f.token=null,f=null,nt(u),nt(s)}}}function Hl(t,n,e){let{moonAccidentsD:r=[]}=n,{mercuryDelaysD:i=[]}=n,{mercuryRetrogradeD:o=[]}=n,a=async function(){e(0,r=await ei("data/moon_accidents.csv")),e(1,i=await ei("data/mercury_delays.csv")),e(2,o=await ei("data/retrograde.csv"))}();return t.$$set=t=>{"moonAccidentsD"in t&&e(0,r=t.moonAccidentsD),"mercuryDelaysD"in t&&e(1,i=t.mercuryDelaysD),"mercuryRetrogradeD"in t&&e(2,o=t.mercuryRetrogradeD)},[r,i,o,a]}return new class extends it{constructor(t){super(),rt(this,t,Hl,Rl,o,{moonAccidentsD:0,mercuryDelaysD:1,mercuryRetrogradeD:2})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
